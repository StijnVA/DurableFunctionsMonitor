{"version":3,"sources":["logo.svg","registerServiceWorker.ts","states/OrchestrationsState.ts","components/LoginIcon.tsx","components/ErrorMessage.tsx","components/MainMenu.tsx","DateTimeHelpers.ts","states/DurableOrchestrationStatus.ts","components/OrchestrationLink.tsx","states/ErrorMessageState.ts","components/Orchestrations.tsx","components/DurableEntityButtons.tsx","components/DurableEntityFields.tsx","components/OrchestrationButtons.tsx","components/OrchestrationFields.tsx","components/OrchestrationDetails.tsx","components/PurgeHistoryDialog.tsx","components/Main.tsx","services/BackendClient.ts","states/LoginState.ts","states/MainMenuState.ts","states/OrchestrationDetailsState.ts","states/PurgeHistoryDialogState.ts","states/TypedLocalStorage.ts","services/VsCodeBackendClient.ts","states/VsCodeTypedLocalStorage.ts","states/MainState.ts","index.tsx"],"names":["module","exports","isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","state","controller","console","log","catch","error","FilterOperatorEnum","ShowEntityTypeEnum","LoginIcon","observer","this","props","Button","color","isLoggedInAnonymously","onClick","evt","menuAnchorElement","currentTarget","AccountCircle","Box","width","Tooltip","title","Typography","userName","Menu","anchorEl","keepMounted","open","onClose","undefined","MenuItem","logout","Dialog","isLoggedIn","DialogContent","errorMessage","Container","className","CircularProgress","DialogContentText","Error","fontSize","React","ErrorMessage","action","bound","Snackbar","anchorOrigin","vertical","horizontal","autoHideDuration","handleClose","SnackbarContent","message","IconButton","key","aria-label","MainMenu","setWindowTitle","showConnectionParamsDialog","showPurgeHistoryDialog","connectionParamsDialogOpen","DialogTitle","inProgress","LinearProgress","height","isReadonly","TextField","autoFocus","margin","label","fullWidth","disabled","InputProps","readOnly","InputLabelProps","shrink","value","hubName","onChange","target","connectionString","DialogActions","saveConnectionParams","isDirty","DateTimeHelpers","dt","Date","slice","toISOString","err","HistoryEventFields","DurableOrchestrationStatus","instanceId","name","entityId","runtimeStatus","entityType","lastEvent","input","customStatus","output","createdTime","lastUpdatedTime","historyEvents","DurableOrchestrationStatusFields","OrchestrationLink","backendClient","isVsCode","Link","href","onLinkClicked","orchestrationId","process","call","ErrorMessageState","observable","OrchestrationsState","_backendClient","_localStorage","timeFrom","_noMorePagesToLoad","_pageSize","_autoRefreshToken","_oldFilterValue","_oldTimeFrom","_oldTimeTill","timeFromString","getItem","setDate","getDate","_timeFrom","timeTillString","_timeTill","filteredColumnString","_filteredColumn","filterOperatorString","_filterOperator","filterValueString","_filterValue","showEntityTypeString","_showEntityType","autoRefreshString","_autoRefresh","Number","orderByString","_orderBy","orderByDirectionString","_orderByDirection","_inProgress","_orchestrations","val","setItem","toString","loadOrchestrations","resetOrderBy","reloadOrchestrations","setItems","fieldName","isAutoRefresh","skip","length","timeTill","filterClause","OrchestrationsOnly","DurableEntitiesOnly","Equals","StartsWith","Contains","orderByClause","orderByDirection","uri","response","push","clearTimeout","setTimeout","data","finally","computed","ShowBoth","Orchestrations","document","addEventListener","scrollingElement","scrollHeight","innerHeight","scrollTop","Toolbar","variant","Grid","container","item","xs","style","marginLeft","type","formatDateTime","getDateTimeValue","onBlur","applyTimeFrom","onKeyPress","handleKeyPress","FormControl","InputLabel","htmlFor","Checkbox","id","checked","timeTillEnabled","placeholder","applyTimeTill","Select","filteredColumn","inputProps","map","col","filterOperator","filterValue","applyFilterValue","RadioGroup","showEntityType","FormControlLabel","control","Radio","flex","autoRefresh","size","FormHelperText","orchestrations","renderTable","renderEmptyTable","Table","TableHead","TableRow","filter","f","showLastEventColumn","TableCell","TableSortLabel","active","orderBy","direction","TableBody","orchestration","cellStyle","verticalAlign","toLowerCase","InputBase","multiline","rowsMax","JSON","stringify","event","preventDefault","DurableEntityButtons","renderDialogs","purgeConfirmationOpen","purge","DurableEntityFields","details","sm","md","zeroMinWidth","OrchestrationButtons","rewindConfirmationOpen","terminateConfirmationOpen","dialogOpen","rewind","terminate","eventName","rows","eventData","raiseEvent","OrchestrationFields","events","index","Timestamp","EventType","Name","FunctionName","ScheduledTime","Result","Details","OrchestrationDetails","loadDetails","PurgeHistoryDialog","instancesDeleted","FormLabel","row","FormGroup","purgeHistory","isValid","RuntimeStatusCheckbox","getStatusIncluded","setStatusIncluded","logo","require","Main","loginState","AppBar","position","mainMenuState","src","Breadcrumbs","orchestrationDetailsState","orchestrationsState","purgeHistoryDialogState","BackendClient","_getAuthorizationHeaderAsync","method","url","Promise","resolve","reject","headers","axios","request","r","LoginState","_aadApp","login","_isLoggedIn","_userName","get","loginWithEasyAuthConfig","authParams","scopes","getCurrentConfiguration","auth","clientId","acquireTokenSilent","authResponse","accessToken","idToken","rawIdToken","Authorization","acquireTokenRedirect","easyAuthConfigResponse","config","Msal","authority","handleRedirectCallback","handleRedirectCallbackFailed","account","getAccount","loginRedirect","authErr","accountState","errorCode","MainMenuState","_purgeHistoryDialogState","_oldConnectionString","_oldHubName","_isReadOnly","isReadOnly","alert","accountName","version","OrchestrationDetailsState","_orchestrationId","_dialogOpen","requestBody","parse","history","PurgeHistoryDialogState","_instancesDeleted","_statuses","Set","statuses","Array","from","values","status","has","included","add","delete","TypedLocalStorage","_prefix","localStorage","items","removeItem","VsCodeBackendClient","_vsCodeApi","_handlers","_requests","requestHandler","requestPromise","requestId","Math","random","postMessage","handler","VsCodeTypedLocalStorage","oldState","getState","State","setState","appState","vsCodeApi","acquireVsCodeApi","setPurgeHistoryHandler","getAuthorizationHeaderAsync","OrchestrationIdFromVsCode","uriSuffix","pathname","startsWith","substr","ReactDOM","getElementById","URL","origin","fetch","indexOf","ready","unregister","reload","checkValidServiceWorker","registerServiceWorker"],"mappings":"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","file":"static/js/main.0905e3b5.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.9b5d7869.svg\";","// tslint:disable:no-console\n// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the 'N+1' visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport default function register() {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL!,\n      window.location.toString()\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Lets check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://goo.gl/SC7cgQ'\n          );\n        });\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker) {\n          installingWorker.onstatechange = () => {\n            if (installingWorker.state === 'installed') {\n              if (navigator.serviceWorker.controller) {\n                // At this point, the old content will have been purged and\n                // the fresh content will have been added to the cache.\n                // It's the perfect time to display a 'New content is\n                // available; please refresh.' message in your web app.\n                console.log('New content is available; please refresh.');\n              } else {\n                // At this point, everything has been precached.\n                // It's the perfect time to display a\n                // 'Content is cached for offline use.' message.\n                console.log('Content is cached for offline use.');\n              }\n            }\n          };\n        }\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type')!.indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import { observable, computed } from 'mobx'\r\n\r\nimport { DurableOrchestrationStatus } from '../states/DurableOrchestrationStatus';\r\nimport { ErrorMessageState } from './ErrorMessageState';\r\nimport { IBackendClient } from '../services/IBackendClient';\r\nimport { ITypedLocalStorage } from './ITypedLocalStorage';\r\n\r\nexport enum FilterOperatorEnum {\r\n    Equals = 0,\r\n    StartsWith,\r\n    Contains\r\n}\r\n\r\nexport enum ShowEntityTypeEnum {\r\n    ShowBoth = 0,\r\n    OrchestrationsOnly,\r\n    DurableEntitiesOnly\r\n}\r\n\r\n// State of Orchestrations view\r\nexport class OrchestrationsState extends ErrorMessageState {\r\n\r\n    @computed\r\n    get inProgress(): boolean { return this._inProgress; }\r\n\r\n    @computed\r\n    get orchestrations(): DurableOrchestrationStatus[] { return this._orchestrations; }\r\n\r\n    @computed\r\n    get autoRefresh(): number { return this._autoRefresh; }\r\n    set autoRefresh(val: number) {\r\n        this._autoRefresh = val;\r\n        this._localStorage.setItem('autoRefresh', this._autoRefresh.toString());\r\n        this.loadOrchestrations(true);\r\n    }\r\n\r\n    @computed\r\n    get timeFrom(): Date { return this._timeFrom; }\r\n    set timeFrom(val: Date) {\r\n        this._timeFrom = val;\r\n        this.resetOrderBy();\r\n    }\r\n    \r\n    @computed\r\n    get timeTill(): Date { return (!this._timeTill) ? new Date() : this._timeTill!; }\r\n    set timeTill(val: Date) {\r\n        this._timeTill = val;\r\n        this.resetOrderBy();\r\n    }\r\n\r\n    @computed\r\n    get timeTillEnabled(): boolean { return !!this._timeTill; }\r\n    set timeTillEnabled(val: boolean) {\r\n\r\n        this._timeTill = val ? new Date() : undefined;\r\n        \r\n        if (!val) {\r\n            this.resetOrderBy();\r\n            this.reloadOrchestrations();\r\n        }\r\n    }\r\n    \r\n    @computed\r\n    get orderByDirection(): ('asc' | 'desc') { return this._orderByDirection;}\r\n\r\n    @computed\r\n    get orderBy() : string { return this._orderBy; }\r\n    set orderBy(val: string) {\r\n\r\n        if (this._orderBy !== val)  {\r\n            this._orderBy = val;\r\n        }\r\n        else {\r\n            this._orderByDirection = (this._orderByDirection === 'desc') ? 'asc' : 'desc';\r\n        }\r\n\r\n        this.reloadOrchestrations();\r\n    }\r\n\r\n    @computed\r\n    get filterValue(): string { return this._filterValue; }\r\n    set filterValue(val: string) { this._filterValue = val; }\r\n\r\n    @computed\r\n    get filterOperator(): FilterOperatorEnum { return this._filterOperator; }\r\n    set filterOperator(val: FilterOperatorEnum) {\r\n        \r\n        this._filterOperator = val;\r\n\r\n        if (!!this._filterValue && this._filteredColumn !== '0') {\r\n\r\n            this.reloadOrchestrations();\r\n        }\r\n    }\r\n\r\n    @computed\r\n    get filteredColumn(): string { return this._filteredColumn; }\r\n    set filteredColumn(val: string) {\r\n\r\n        this._filteredColumn = val;\r\n\r\n        if (!this._filterValue) {\r\n            return;\r\n        }\r\n\r\n        if (this._filteredColumn === '0') {\r\n            this._filterValue = '';\r\n        }\r\n\r\n        this.reloadOrchestrations();\r\n    }\r\n\r\n    @computed\r\n    get showEntityType(): string { return ShowEntityTypeEnum[this._showEntityType]; }\r\n    set showEntityType(val: string) {\r\n\r\n        this._showEntityType = ShowEntityTypeEnum[val];\r\n\r\n        this.reloadOrchestrations();\r\n    }\r\n\r\n    @computed\r\n    get showLastEventColumn(): boolean {\r\n        // Only showing lastEvent field when being filtered by it (because otherwise it is not populated on the server)\r\n        return this._filteredColumn === 'lastEvent' && (!!this._oldFilterValue);\r\n    }\r\n    \r\n    get backendClient(): IBackendClient { return this._backendClient; }\r\n\r\n    constructor(private _backendClient: IBackendClient, private _localStorage: ITypedLocalStorage<OrchestrationsState>) {\r\n        super();\r\n\r\n        var timeFrom: Date;\r\n        const timeFromString = this._localStorage.getItem('timeFrom');\r\n        if (!!timeFromString) {\r\n            timeFrom = new Date(timeFromString);\r\n        } else {\r\n            // By default setting it to 24 hours ago\r\n            timeFrom = new Date();\r\n            timeFrom.setDate(timeFrom.getDate() - 1);\r\n        }\r\n        this._timeFrom = timeFrom;\r\n        this._oldTimeFrom = timeFrom;\r\n\r\n        const timeTillString = this._localStorage.getItem('timeTill');\r\n        if (!!timeTillString) {\r\n            this._timeTill = new Date(timeTillString);\r\n            this._oldTimeTill = this._timeTill;\r\n        }\r\n\r\n        const filteredColumnString = this._localStorage.getItem('filteredColumn');\r\n        if (!!filteredColumnString) {\r\n            this._filteredColumn = filteredColumnString;\r\n        }\r\n\r\n        const filterOperatorString = this._localStorage.getItem('filterOperator');\r\n        if (!!filterOperatorString) {\r\n            this._filterOperator = FilterOperatorEnum[filterOperatorString];\r\n        }\r\n\r\n        const filterValueString = this._localStorage.getItem('filterValue');\r\n        if (!!filterValueString) {\r\n            this._filterValue = filterValueString;\r\n            this._oldFilterValue = filterValueString;\r\n        }\r\n\r\n        const showEntityTypeString = this._localStorage.getItem('showEntityType');\r\n        if (!!showEntityTypeString) {\r\n            this._showEntityType = ShowEntityTypeEnum[showEntityTypeString];\r\n        }\r\n\r\n        const autoRefreshString = this._localStorage.getItem('autoRefresh');\r\n        if (!!autoRefreshString) {\r\n            this._autoRefresh = Number(autoRefreshString);\r\n        }\r\n\r\n        const orderByString = this._localStorage.getItem('orderBy');\r\n        if (!!orderByString) {\r\n            this._orderBy = orderByString;\r\n        }\r\n\r\n        const orderByDirectionString = this._localStorage.getItem('orderByDirection');\r\n        if (!!orderByDirectionString) {\r\n            this._orderByDirection = orderByDirectionString as 'asc' | 'desc';\r\n        }\r\n    }\r\n\r\n    applyTimeFrom() {\r\n        if (this._oldTimeFrom !== this._timeFrom) {\r\n            this.reloadOrchestrations();\r\n        }\r\n    }\r\n\r\n    applyTimeTill() {\r\n        if (this._oldTimeTill !== this._timeTill) {\r\n            this.reloadOrchestrations();\r\n        }\r\n    }\r\n\r\n    applyFilterValue() {\r\n        if (this._oldFilterValue !== this._filterValue) {\r\n            this.reloadOrchestrations();\r\n        }\r\n    }\r\n\r\n    reloadOrchestrations() {\r\n        this._orchestrations = [];\r\n        this._noMorePagesToLoad = false;\r\n\r\n        // persisting state as a batch\r\n        this._localStorage.setItems([\r\n            { fieldName: 'timeFrom', value: this._timeFrom.toISOString() },\r\n            { fieldName: 'timeTill', value: !!this._timeTill ? this._timeTill.toISOString() : null },\r\n            { fieldName: 'timeFrom', value: this._timeFrom.toISOString() },\r\n            { fieldName: 'filteredColumn', value: this._filteredColumn },\r\n            { fieldName: 'filterOperator', value: FilterOperatorEnum[this._filterOperator] },\r\n            { fieldName: 'filterValue', value: !!this._filterValue ? this._filterValue : null },\r\n            { fieldName: 'showEntityType', value: ShowEntityTypeEnum[this._showEntityType] },\r\n            { fieldName: 'orderBy', value: this._orderBy },\r\n            { fieldName: 'orderByDirection', value: this._orderByDirection },\r\n        ]);\r\n\r\n        this.loadOrchestrations();\r\n\r\n        this._oldFilterValue = this._filterValue;\r\n        this._oldTimeFrom = this._timeFrom;\r\n        this._oldTimeTill = this._timeTill;\r\n    }\r\n\r\n    loadOrchestrations(isAutoRefresh: boolean = false) {\r\n\r\n        if (!!this.inProgress || (!!this._noMorePagesToLoad && !this._autoRefresh )) {\r\n            return;            \r\n        }\r\n        this._inProgress = true;\r\n\r\n        // In auto-refresh mode only refreshing the first page\r\n        const skip = isAutoRefresh ? 0 : this._orchestrations.length;\r\n\r\n        const timeTill = !!this._timeTill ? this._timeTill : new Date();\r\n        var filterClause = `&$filter=createdTime ge '${this._timeFrom.toISOString()}' and createdTime le '${timeTill.toISOString()}'`;\r\n\r\n        if (this._showEntityType === ShowEntityTypeEnum.OrchestrationsOnly) {\r\n            filterClause += ` and entityType eq 'Orchestration'`;\r\n        }\r\n        else if (this._showEntityType === ShowEntityTypeEnum.DurableEntitiesOnly) {\r\n            filterClause += ` and entityType eq 'DurableEntity'`;\r\n        }\r\n        \r\n        if (!!this._filterValue && this._filteredColumn !== '0') {\r\n\r\n            filterClause += ' and ';\r\n\r\n            switch (this._filterOperator) {\r\n                case FilterOperatorEnum.Equals:\r\n                    filterClause += `${this._filteredColumn} eq '${this._filterValue}'`;\r\n                break;\r\n                case FilterOperatorEnum.StartsWith:\r\n                    filterClause += `startswith(${this._filteredColumn}, '${this._filterValue}')`;\r\n                break;\r\n                case FilterOperatorEnum.Contains:\r\n                    filterClause += `contains(${this._filteredColumn}, '${this._filterValue}')`;\r\n                break;\r\n            }\r\n        }\r\n\r\n        const orderByClause = !!this._orderBy ? `&$orderby=${this._orderBy} ${this.orderByDirection}` : '';\r\n\r\n        const uri = `/orchestrations?$top=${this._pageSize}&$skip=${skip}${filterClause}${orderByClause}`;\r\n\r\n        this._backendClient.call('GET', uri).then(response => {\r\n\r\n            if (!response.length) {\r\n                // Stop the infinite scrolling\r\n                this._noMorePagesToLoad = true;\r\n            } else {\r\n                if (isAutoRefresh) {\r\n                    this._orchestrations = response;\r\n                } else {\r\n                    this._orchestrations.push(...response);\r\n                }\r\n            }\r\n\r\n            // Doing auto-refresh\r\n            if (!!this._autoRefresh) {\r\n\r\n                if (!!this._autoRefreshToken) {\r\n                    clearTimeout(this._autoRefreshToken);\r\n                }\r\n                this._autoRefreshToken = setTimeout(() => this.loadOrchestrations(true), this._autoRefresh * 1000);\r\n            }\r\n\r\n        }, err => {\r\n\r\n            // Cancelling auto-refresh just in case\r\n            this._autoRefresh = 0;\r\n\r\n            this.errorMessage = `Load failed: ${err.message}.${(!!err.response ? err.response.data : '')} `;\r\n\r\n        }).finally(() => {\r\n            this._inProgress = false;\r\n        });\r\n    }\r\n\r\n    @observable\r\n    private _inProgress: boolean = false;\r\n    @observable\r\n    private _orchestrations: DurableOrchestrationStatus[] = [];\r\n    @observable\r\n    private _orderByDirection: ('asc' | 'desc') = 'asc';\r\n    @observable\r\n    private _orderBy: string = '';\r\n    @observable\r\n    private _autoRefresh: number = 0;\r\n    @observable\r\n    private _timeFrom: Date;\r\n    @observable\r\n    private _timeTill?: Date;\r\n    @observable\r\n    private _filterValue: string = '';\r\n    @observable\r\n    private _filterOperator: FilterOperatorEnum = FilterOperatorEnum.Equals;\r\n    @observable\r\n    private _filteredColumn: string = '0';\r\n    @observable\r\n    private _showEntityType: ShowEntityTypeEnum = ShowEntityTypeEnum.ShowBoth;\r\n\r\n    private _noMorePagesToLoad: boolean = false;\r\n    private readonly _pageSize = 50;\r\n    private _autoRefreshToken: NodeJS.Timeout;\r\n    private _oldFilterValue: string = '';\r\n    private _oldTimeFrom: Date;\r\n    private _oldTimeTill?: Date;\r\n\r\n    private resetOrderBy() {\r\n        this._orderBy = '';\r\n        this._orderByDirection = 'asc';\r\n    }\r\n}","import * as React from 'react';\r\nimport { observer } from 'mobx-react';\r\n\r\nimport {\r\n    Box, Button, Container, CircularProgress, Dialog, DialogContent, DialogContentText,\r\n    Menu, MenuItem, Tooltip, Typography\r\n} from '@material-ui/core';\r\n\r\nimport { AccountCircle, Error } from '@material-ui/icons';\r\n\r\nimport './LoginIcon.css';\r\n\r\nimport { LoginState } from '../states/LoginState';\r\n\r\n// Main Menu view\r\n@observer\r\nexport class LoginIcon extends React.Component<{ state: LoginState }> {\r\n\r\n    render(): JSX.Element {\r\n        const state = this.props.state;\r\n\r\n        return (\r\n            <div>\r\n                <Button color={state.isLoggedInAnonymously ? \"secondary\" : \"inherit\"}\r\n                    onClick={evt => state.menuAnchorElement = evt.currentTarget}\r\n                >\r\n                    <AccountCircle />\r\n                    <Box width={5} />\r\n                    <Tooltip title={state.isLoggedInAnonymously ? \"Ensure this endpoint is not exposed to the public!\" : \"\"} >\r\n                        <Typography color={state.isLoggedInAnonymously ? \"secondary\" : \"inherit\"} >\r\n                            {state.isLoggedInAnonymously ? \"Anonymous\" : state.userName}\r\n                        </Typography>\r\n                    </Tooltip>\r\n                </Button>\r\n\r\n                {!state.isLoggedInAnonymously && (\r\n                    <Menu\r\n                        anchorEl={state.menuAnchorElement}\r\n                        keepMounted\r\n                        open={!!state.menuAnchorElement}\r\n                        onClose={() => state.menuAnchorElement = undefined}\r\n                    >\r\n                        <MenuItem onClick={() => state.logout()}>Login under a different name</MenuItem>\r\n                    </Menu>\r\n                )}\r\n\r\n                <Dialog open={!state.isLoggedIn}>\r\n                    <DialogContent>\r\n\r\n                        {!state.errorMessage && (\r\n                            <div>\r\n                                <Container className=\"login-progress\">\r\n                                    <CircularProgress />\r\n                                </Container>\r\n                                <DialogContentText>Login in progress...</DialogContentText>\r\n                            </div>)}\r\n\r\n                        {!!state.errorMessage && (\r\n                            <div>\r\n                                <Container className=\"login-progress\">\r\n                                    <Error color=\"secondary\" fontSize=\"large\" />\r\n                                </Container>\r\n                                <DialogContentText color=\"secondary\">Login failed. {state.errorMessage}</DialogContentText>\r\n                            </div>)}\r\n\r\n                    </DialogContent>\r\n                </Dialog>\r\n            </div>\r\n        );\r\n    }\r\n}","import * as React from 'react';\r\nimport { action } from 'mobx'\r\nimport { observer } from 'mobx-react';\r\n\r\nimport { IconButton, Snackbar, SnackbarContent } from '@material-ui/core';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport ErrorIcon from '@material-ui/icons/Error';\r\n\r\nimport './ErrorMessage.css';\r\n\r\nimport { ErrorMessageState } from '../states/ErrorMessageState';\r\n\r\n// Error Message Snackbar\r\n@observer\r\nexport class ErrorMessage extends React.Component<{ state: ErrorMessageState }> {\r\n\r\n    render(): JSX.Element {\r\n        const state = this.props.state;\r\n\r\n        return (\r\n\r\n            <Snackbar\r\n                className=\"message-snackbar\"\r\n                anchorOrigin={{ vertical: 'top', horizontal: 'right' }}\r\n                open={!!state.errorMessage}\r\n                autoHideDuration={6000}\r\n                onClose={this.handleClose}\r\n            >\r\n                <SnackbarContent\r\n                    className=\"error-snackbar-content\"\r\n                    message={\r\n                        <span>\r\n                            <ErrorIcon className=\"error-icon\" />\r\n                            {state.errorMessage}\r\n                        </span>\r\n                    }\r\n                    action={[\r\n                        <IconButton\r\n                            key=\"close\"\r\n                            aria-label=\"Close\"\r\n                            color=\"inherit\"\r\n                            onClick={this.handleClose}\r\n                        >\r\n                            <CloseIcon />\r\n                        </IconButton>,\r\n                    ]}\r\n                />\r\n\r\n            </Snackbar>\r\n        );\r\n    }\r\n\r\n    @action.bound\r\n    private handleClose() {\r\n        this.props.state.errorMessage = '';\r\n    }\r\n}","import * as React from 'react';\r\nimport { observer } from 'mobx-react';\r\n\r\nimport {\r\n    Box, Button, Dialog, DialogActions, DialogContent, DialogContentText, DialogTitle, IconButton, LinearProgress,\r\n    Menu, MenuItem, TextField\r\n} from '@material-ui/core';\r\n\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\n\r\nimport { ErrorMessage } from './ErrorMessage';\r\nimport { MainMenuState } from '../states/MainMenuState';\r\n\r\n// Main Menu view\r\n@observer\r\nexport class MainMenu extends React.Component<{ state: MainMenuState }> {\r\n\r\n    componentDidMount() {\r\n        // Querying the backend for connection info and displaying it in window title\r\n        this.props.state.setWindowTitle();\r\n    }\r\n\r\n    render(): JSX.Element {\r\n        const state = this.props.state;\r\n\r\n        return (\r\n            <div>\r\n\r\n                <IconButton color=\"inherit\"\r\n                    onClick={evt => state.menuAnchorElement = evt.currentTarget}\r\n                >\r\n                    <MenuIcon/>\r\n                </IconButton>\r\n\r\n                <Menu\r\n                    anchorEl={state.menuAnchorElement}\r\n                    keepMounted\r\n                    open={!!state.menuAnchorElement}\r\n                    onClose={() => state.menuAnchorElement = undefined}\r\n                >\r\n                    <MenuItem onClick={() => state.showConnectionParamsDialog()}>Manage Storage Connection Settings...</MenuItem>\r\n                    <MenuItem onClick={() => state.showPurgeHistoryDialog()}>Purge Instance History...</MenuItem>\r\n                </Menu>\r\n\r\n                <Dialog\r\n                    open={state.connectionParamsDialogOpen}\r\n                    onClose={() => state.connectionParamsDialogOpen = false}\r\n                >\r\n                    <DialogTitle>Manage Storage Connection Settings</DialogTitle>\r\n                    <DialogContent>\r\n\r\n                        {state.inProgress ? (<LinearProgress />) : (<Box height={4} />)}\r\n                        \r\n                        <DialogContentText>\r\n                            {\r\n                                state.isReadonly ?\r\n                                    \"Change the below values via your application settings ('DFM_HUB_NAME' and 'AzureWebJobsStorage' respectively\" :\r\n                                    \"The below values will be saved to local.settings.json file.\"\r\n                            }\r\n                        </DialogContentText>\r\n\r\n                        <TextField\r\n                            autoFocus\r\n                            margin=\"dense\"\r\n                            label=\"Hub Name\"\r\n                            fullWidth\r\n                            disabled={state.inProgress }\r\n                            InputProps={{ readOnly: state.isReadonly }}\r\n                            InputLabelProps={{ shrink: true }}\r\n                            value={state.hubName}\r\n                            onChange={(evt) => state.hubName = evt.target.value as string}\r\n                        />\r\n\r\n                        <TextField\r\n                            autoFocus\r\n                            margin=\"dense\"\r\n                            label=\"Azure Storage Connection String\"\r\n                            fullWidth\r\n                            disabled={state.inProgress }\r\n                            InputProps={{ readOnly: state.isReadonly }}\r\n                            InputLabelProps={{ shrink: true }}\r\n                            value={state.connectionString}\r\n                            onChange={(evt) => state.connectionString = evt.target.value as string}\r\n                        />\r\n\r\n                        <ErrorMessage state={state}/>\r\n\r\n                    </DialogContent>\r\n                    <DialogActions>\r\n                        <Button onClick={() => state.connectionParamsDialogOpen = false} color=\"primary\">\r\n                            Cancel\r\n                        </Button>\r\n\r\n                        {(!state.isReadonly) && (\r\n                            <Button\r\n                                onClick={() => state.saveConnectionParams()}\r\n                                disabled={!state.isDirty || !state.hubName || !state.connectionString || state.inProgress}\r\n                                color=\"secondary\"\r\n                            >\r\n                                Save\r\n                            </Button>\r\n                        )}\r\n\r\n                    </DialogActions>\r\n                </Dialog>\r\n            </div>\r\n        );\r\n    }\r\n}","\r\nexport class DateTimeHelpers\r\n{\r\n    public static getDateTimeValue(evt: any): Date {\r\n\r\n        var dt = new Date(evt.target.value.slice(0, 16) + ':00Z');\r\n\r\n        // If invalid date entered, then setting it to current date\r\n        try {\r\n            dt.toISOString();\r\n        } catch (err) {\r\n            dt = new Date();\r\n        }\r\n\r\n        return dt;\r\n    }\r\n\r\n    public static formatDateTime(dt: Date) {\r\n        return dt.toISOString().slice(0, 16);\r\n    }\r\n}","\r\n// A DTO used by DurableOrchestrationStatus.historyEvents\r\nexport class HistoryEvent {\r\n    Timestamp: string;\r\n    EventType: string;\r\n    Name: string;\r\n    ScheduledTime: string;\r\n    Result: any;\r\n    Details: any;\r\n}\r\n\r\n// Could instead just iterate through field names of HistoryEvent, but reflection in TypeScript still looks tricky\r\nexport const HistoryEventFields = [\r\n    'Timestamp',\r\n    'EventType',\r\n    'Name',\r\n    'ScheduledTime',\r\n    'Result',\r\n    'Details',\r\n];\r\n\r\nexport type RuntimeStatus = \"Running\" | \"Completed\" | \"ContinuedAsNew\" | \"Failed\" | \"Canceled\" | \"Terminated\" | \"Pending\";\r\n\r\nexport type EntityType = \"Orchestration\" | \"DurableEntity\";\r\n\r\nexport class EntityId {\r\n    name: string;\r\n    key: string;\r\n}\r\n\r\n// A DTO returned by DurableOrchestrationClient.getStatusAll()\r\nexport class DurableOrchestrationStatus {\r\n    instanceId: string;\r\n    name: string;\r\n    entityId: EntityId;\r\n    runtimeStatus: RuntimeStatus;\r\n    entityType: EntityType;\r\n    lastEvent: string;\r\n    input: any;\r\n    customStatus: string;\r\n    output: any;\r\n    createdTime: string;\r\n    lastUpdatedTime: string;\r\n    historyEvents?: HistoryEvent[];\r\n}\r\n\r\n// Could instead just iterate through field names of DurableOrchestrationStatus, but reflection in TypeScript still looks tricky\r\nexport const DurableOrchestrationStatusFields = [\r\n    'instanceId',\r\n    'name',\r\n    'createdTime',\r\n    'lastUpdatedTime',\r\n    'runtimeStatus',\r\n    'lastEvent',\r\n    'input',\r\n    'output',\r\n    'customStatus'\r\n];","import * as React from 'react';\r\nimport { action } from 'mobx'\r\nimport { observer } from 'mobx-react';\r\n\r\nimport { Link } from '@material-ui/core';\r\n\r\nimport { IBackendClient } from '../services/IBackendClient';\r\n\r\nexport const UriSuffix = process.env.REACT_APP_URI_SUFFIX as string;\r\n\r\n// Renders a link to be opened either in a new browser tab or in a new VsCode WebView\r\n@observer\r\nexport class OrchestrationLink extends React.Component<{ orchestrationId: string, backendClient: IBackendClient }> {\r\n\r\n    render(): JSX.Element {\r\n\r\n        if (this.props.backendClient.isVsCode) {\r\n\r\n            return (\r\n                <Link href=\"#\" onClick={this.onLinkClicked} >\r\n                    {this.props.orchestrationId}\r\n                </Link>\r\n            );            \r\n        } else {\r\n\r\n            return (\r\n                <Link href={`${UriSuffix}/orchestrations/${this.props.orchestrationId}`} target=\"_blank\">\r\n                    {this.props.orchestrationId}\r\n                </Link>\r\n            );\r\n        }\r\n    }\r\n\r\n    @action.bound\r\n    private onLinkClicked() {\r\n        this.props.backendClient.call('OpenInNewWindow', this.props.orchestrationId);\r\n    }\r\n}","import { observable } from 'mobx'\r\n\r\n// State of Error Message snackbar\r\nexport class ErrorMessageState {\r\n\r\n    @observable\r\n    errorMessage: string = '';\r\n}","import * as React from 'react';\r\nimport { action } from 'mobx'\r\nimport { observer } from 'mobx-react';\r\n\r\nimport {\r\n    Box, Button, Checkbox, FormControl, FormControlLabel, FormHelperText, Grid, InputBase, InputLabel,\r\n    LinearProgress, MenuItem, Select,\r\n    Table, TableBody, TableCell, TableHead, TableRow, TableSortLabel, TextField, Toolbar, Typography, Radio, RadioGroup\r\n} from '@material-ui/core';\r\n\r\nimport RefreshIcon from '@material-ui/icons/Refresh';\r\n\r\nimport './Orchestrations.css';\r\n\r\nimport { DateTimeHelpers } from '../DateTimeHelpers';\r\nimport { DurableOrchestrationStatusFields } from '../states/DurableOrchestrationStatus';\r\nimport { ErrorMessage } from './ErrorMessage';\r\nimport { OrchestrationLink } from './OrchestrationLink';\r\nimport { OrchestrationsState, ShowEntityTypeEnum } from '../states/OrchestrationsState';\r\n\r\nexport const UriSuffix = process.env.REACT_APP_URI_SUFFIX as string;\r\n\r\n// Orchestrations view\r\n@observer\r\nexport class Orchestrations extends React.Component<{ state: OrchestrationsState }> {\r\n\r\n    componentDidMount() {\r\n\r\n        // Triggering initial load\r\n        this.props.state.loadOrchestrations();\r\n\r\n        // Doing a simple infinite scroll\r\n        document.addEventListener('scroll', (evt) => {\r\n\r\n            const scrollingElement = (evt.target as Document).scrollingElement;\r\n            if (!scrollingElement) { \r\n                return;\r\n            }\r\n\r\n            const scrollPos = scrollingElement.scrollHeight - window.innerHeight - scrollingElement.scrollTop;\r\n            const scrollPosThreshold = 100;\r\n\r\n            if (scrollPos < scrollPosThreshold) {\r\n                this.props.state.loadOrchestrations();\r\n            }\r\n        });\r\n    }\r\n\r\n    render(): JSX.Element {\r\n        const state = this.props.state;\r\n\r\n        return (\r\n            <div>\r\n                {state.inProgress ? (<LinearProgress />) : (<Box height={4} />)}\r\n\r\n                <Toolbar variant=\"dense\" className=\"top-toolbar\">\r\n\r\n                    <Grid container className=\"toolbar-grid1\">\r\n                        <Grid item xs={12}>\r\n                            <TextField\r\n                                className=\"from-input\"\r\n                                style={{ marginLeft: 10 }}\r\n                                label=\"From &nbsp;&nbsp; (UTC)\"\r\n                                type=\"datetime-local\"\r\n                                InputLabelProps={{ shrink: true }}\r\n                                disabled={state.inProgress}\r\n                                value={DateTimeHelpers.formatDateTime(state.timeFrom)}\r\n                                onChange={(evt) => { state.timeFrom = DateTimeHelpers.getDateTimeValue(evt); }}\r\n                                onBlur={() => state.applyTimeFrom()}\r\n                                onKeyPress={this.handleKeyPress}\r\n                            />\r\n                        </Grid>\r\n                        <Grid item xs={12} className=\"toolbar-grid1-item2\">\r\n                            <FormControl>\r\n                                <InputLabel className=\"till-label\" htmlFor=\"till-checkbox\" shrink >Till</InputLabel>\r\n                                <Checkbox\r\n                                    id=\"till-checkbox\"\r\n                                    className=\"till-checkbox\"\r\n                                    disabled={state.inProgress}\r\n                                    checked={state.timeTillEnabled}\r\n                                    onChange={(evt) => state.timeTillEnabled = evt.target.checked}\r\n                                />\r\n                            </FormControl>\r\n                            <TextField\r\n                                className=\"till-input\"\r\n                                label=\"(UTC)\"\r\n                                placeholder=\"[Now]\"\r\n                                InputLabelProps={{ shrink: true }}\r\n                                type={state.timeTillEnabled ? \"datetime-local\" : \"text\"}\r\n                                disabled={!state.timeTillEnabled || state.inProgress}\r\n                                value={state.timeTillEnabled ? DateTimeHelpers.formatDateTime(state.timeTill) : ''}\r\n                                onChange={(evt) => { state.timeTill = DateTimeHelpers.getDateTimeValue(evt); }}\r\n                                onBlur={() => state.applyTimeTill()}\r\n                                onKeyPress={this.handleKeyPress}\r\n                            />\r\n                        </Grid>\r\n                    </Grid>\r\n\r\n                    <Grid container className=\"toolbar-grid2\">\r\n                        <Grid item xs={12}>\r\n                            <FormControl>\r\n                                <InputLabel htmlFor=\"filtered-column-select\">Filtered Column</InputLabel>\r\n                                <Select\r\n                                    className=\"toolbar-select filtered-column-input\"\r\n                                    disabled={state.inProgress}\r\n                                    value={state.filteredColumn}\r\n                                    onChange={(evt) => state.filteredColumn = evt.target.value as string}\r\n                                    inputProps={{ id: \"filtered-column-select\" }}>\r\n\r\n                                    <MenuItem value=\"0\">[Not Selected]</MenuItem>\r\n                                    {DurableOrchestrationStatusFields.map(col => {\r\n                                        return (<MenuItem key={col} value={col}>{col}</MenuItem>);\r\n                                    })}\r\n\r\n                                </Select>\r\n                            </FormControl>\r\n                            <FormControl className=\"toolbar-grid2-item1-select\">\r\n                                <InputLabel htmlFor=\"filter-operator-select\">Filter Operator</InputLabel>\r\n                                <Select\r\n                                    className=\"toolbar-select\"\r\n                                    disabled={state.inProgress}\r\n                                    value={state.filterOperator}\r\n                                    onChange={(evt) => state.filterOperator = evt.target.value as number}\r\n                                    inputProps={{ id: \"filter-operator-select\" }}>\r\n                                    <MenuItem value={0}>Equals</MenuItem>\r\n                                    <MenuItem value={1}>Starts With</MenuItem>\r\n                                    <MenuItem value={2}>Contains</MenuItem>\r\n                                </Select>\r\n                            </FormControl>\r\n                        </Grid>\r\n                        <Grid item xs={12} className=\"toolbar-grid2-item2\">\r\n                            <TextField\r\n                                className=\"filter-value-input\"\r\n                                label=\"Filter Value\"\r\n                                InputLabelProps={{ shrink: true }}\r\n                                placeholder=\"[some text or 'null']\"\r\n                                disabled={state.filteredColumn === '0' || state.inProgress}\r\n                                value={state.filterValue}\r\n                                onChange={(evt) => state.filterValue = evt.target.value as string}\r\n                                onBlur={() => state.applyFilterValue()}\r\n                                onKeyPress={this.handleKeyPress}\r\n                            />\r\n                        </Grid>\r\n                    </Grid>\r\n\r\n                    <RadioGroup\r\n                        value={state.showEntityType}\r\n                        onChange={(evt) => state.showEntityType = (evt.target as HTMLInputElement).value}\r\n                    >\r\n                        <FormControlLabel                            \r\n                            className=\"entity-type-radio\"\r\n                            disabled={state.inProgress}\r\n                            value={ShowEntityTypeEnum[ShowEntityTypeEnum.ShowBoth]}\r\n                            control={<Radio />}\r\n                            label={<Typography variant=\"subtitle2\">Show both</Typography>}\r\n                        />\r\n                        <FormControlLabel\r\n                            className=\"entity-type-radio\"\r\n                            disabled={state.inProgress}\r\n                            value={ShowEntityTypeEnum[ShowEntityTypeEnum.OrchestrationsOnly]}\r\n                            control={<Radio />}\r\n                            label={<Typography variant=\"subtitle2\">Orchestrations only</Typography>}\r\n                        />\r\n                        <FormControlLabel\r\n                            className=\"entity-type-radio\"\r\n                            disabled={state.inProgress}\r\n                            value={ShowEntityTypeEnum[ShowEntityTypeEnum.DurableEntitiesOnly]}\r\n                            control={<Radio />}\r\n                            label={<Typography variant=\"subtitle2\">Durable Entities only</Typography>}\r\n                        />\r\n                    </RadioGroup>\r\n\r\n                    <Typography style={{ flex: 1 }} />\r\n\r\n                    <Grid container className=\"toolbar-grid3\">\r\n                        <Grid item xs={12}>\r\n                            <FormControl className=\"form-control-float-right\">\r\n                                <InputLabel htmlFor=\"auto-refresh-select\">Auto-refresh</InputLabel>\r\n                                <Select\r\n                                    className=\"toolbar-select\"\r\n                                    inputProps={{ id: \"auto-refresh-select\" }}\r\n                                    value={state.autoRefresh}\r\n                                    onChange={(evt) => state.autoRefresh = evt.target.value as number}\r\n                                >\r\n                                    <MenuItem value={0}>Never</MenuItem>\r\n                                    <MenuItem value={1}>Every 1 sec.</MenuItem>\r\n                                    <MenuItem value={5}>Every 5 sec.</MenuItem>\r\n                                    <MenuItem value={10}>Every 10 sec.</MenuItem>\r\n                                </Select>\r\n                            </FormControl>\r\n                        </Grid>\r\n                        <Grid item xs={12} className=\"toolbar-grid3-item2\">\r\n                            <Button\r\n                                className=\"refresh-button form-control-float-right\"\r\n                                variant=\"outlined\"\r\n                                color=\"default\"\r\n                                size=\"large\"\r\n                                onClick={() => state.reloadOrchestrations()}\r\n                            >\r\n                                <RefreshIcon />\r\n                            </Button>\r\n                        </Grid>\r\n                    </Grid>\r\n\r\n                </Toolbar>\r\n\r\n                <FormHelperText className=\"items-count-label\">\r\n                    {!!state.orchestrations.length ? `${state.orchestrations.length} items shown`: ''}\r\n                </FormHelperText>\r\n\r\n                {!!state.orchestrations.length ? this.renderTable(state) : this.renderEmptyTable()}\r\n\r\n                {state.inProgress && !!state.orchestrations.length ? (<LinearProgress />) : (<Box height={4} />)}\r\n                <Toolbar variant=\"dense\" />\r\n                \r\n                <ErrorMessage state={this.props.state}/>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    private renderEmptyTable(): JSX.Element {\r\n        return (\r\n            <Typography variant=\"h5\" className=\"empty-table-placeholder\" >\r\n                This list is empty\r\n            </Typography>\r\n        );\r\n    }\r\n\r\n    private renderTable(state: OrchestrationsState): JSX.Element {\r\n\r\n        return (\r\n            <Table size=\"small\">\r\n                <TableHead>\r\n                    <TableRow>\r\n                        {DurableOrchestrationStatusFields\r\n                            // hiding artificial 'lastEvent' column, when not used\r\n                            .filter(f => state.showLastEventColumn ? true : f !== 'lastEvent')\r\n                            .map(col => {\r\n                                return (\r\n                                    <TableCell key={col}>\r\n                                        <TableSortLabel\r\n                                            active={state.orderBy === col}\r\n                                            direction={state.orderByDirection}\r\n                                            onClick={() => state.orderBy = col}\r\n                                        >\r\n                                            {col}\r\n                                        </TableSortLabel>\r\n                                    </TableCell>\r\n                                );\r\n                            })\r\n                        }\r\n                    </TableRow>\r\n                </TableHead>\r\n                <TableBody>\r\n                    {state.orchestrations.map(orchestration => {\r\n\r\n                        const cellStyle = { verticalAlign: 'top' };\r\n                        return (\r\n                            <TableRow\r\n                                key={orchestration.instanceId}\r\n                                className={\"runtime-status-\" + orchestration.runtimeStatus.toString().toLowerCase()}\r\n                            >\r\n                                <TableCell className=\"instance-id-cell\" style={cellStyle}>\r\n                                    <OrchestrationLink orchestrationId={orchestration.instanceId} backendClient={state.backendClient}/>\r\n                                </TableCell>\r\n                                <TableCell className=\"name-cell\" style={cellStyle}>\r\n                                    {orchestration.name}\r\n                                </TableCell>\r\n                                <TableCell className=\"datetime-cell\" style={cellStyle}>\r\n                                    {orchestration.createdTime}\r\n                                </TableCell>\r\n                                <TableCell className=\"datetime-cell\" style={cellStyle}>\r\n                                    {orchestration.lastUpdatedTime}\r\n                                </TableCell>\r\n                                <TableCell style={cellStyle}>\r\n                                    {orchestration.runtimeStatus}\r\n                                </TableCell>\r\n                                {state.showLastEventColumn && (<TableCell style={cellStyle}>\r\n                                    {orchestration.lastEvent}\r\n                                </TableCell>)}\r\n                                <TableCell className=\"long-text-cell\" style={cellStyle}>\r\n                                    <InputBase\r\n                                        className=\"long-text-cell-input\"\r\n                                        multiline fullWidth rowsMax={5} readOnly\r\n                                        value={JSON.stringify(orchestration.input)}\r\n                                    />\r\n                                </TableCell>\r\n                                <TableCell className=\"output-cell\" style={cellStyle}>\r\n                                    <InputBase\r\n                                        className=\"long-text-cell-input\"\r\n                                        multiline fullWidth rowsMax={5} readOnly\r\n                                        value={JSON.stringify(orchestration.output)}\r\n                                    />\r\n                                </TableCell>\r\n                                <TableCell className=\"output-cell\" style={cellStyle}>\r\n                                    <InputBase\r\n                                        className=\"long-text-cell-input\"\r\n                                        multiline fullWidth rowsMax={5} readOnly\r\n                                        value={JSON.stringify(orchestration.customStatus)}\r\n                                    />\r\n                                </TableCell>\r\n                            </TableRow>\r\n                        );\r\n                    })}\r\n                </TableBody>\r\n            </Table>\r\n        );\r\n    }\r\n\r\n    @action.bound\r\n    private handleKeyPress(event: React.KeyboardEvent<HTMLInputElement>) {\r\n        if (event.key === 'Enter') {\r\n            // Otherwise the event will bubble up and the form will be submitted\r\n            event.preventDefault();\r\n\r\n            this.props.state.reloadOrchestrations();\r\n        }\r\n    }\r\n}","import * as React from 'react';\r\nimport { observer } from 'mobx-react';\r\n\r\nimport {\r\n    Button, Dialog, DialogActions, DialogContent, DialogContentText, DialogTitle,\r\n} from '@material-ui/core';\r\n\r\nimport { OrchestrationDetailsState } from '../states/OrchestrationDetailsState';\r\n\r\n// Buttons for detailed durable entity view\r\n@observer\r\nexport class DurableEntityButtons extends React.Component<{ state: OrchestrationDetailsState }> {\r\n\r\n    render(): JSX.Element {\r\n        const state = this.props.state;\r\n\r\n        return (<>\r\n\r\n            {this.renderDialogs(state)}\r\n\r\n            <Button variant=\"outlined\" color=\"primary\" size=\"large\" onClick={() => state.purgeConfirmationOpen = true}>\r\n                Purge\r\n            </Button>            \r\n        </>);\r\n    }\r\n\r\n    private renderDialogs(state: OrchestrationDetailsState): JSX.Element {\r\n        return (<>\r\n\r\n            <Dialog\r\n                open={state.purgeConfirmationOpen}\r\n                onClose={() => state.purgeConfirmationOpen = false}\r\n            >\r\n                <DialogTitle>Confirm Purge</DialogTitle>\r\n                <DialogContent>\r\n                    <DialogContentText>\r\n                        You're about to purge entity '{state.orchestrationId}'. This operation drops entity state from the underlying storage and cannot be undone. Are you sure?\r\n                    </DialogContentText>\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button onClick={() => state.purgeConfirmationOpen = false} color=\"primary\" autoFocus>\r\n                        Cancel\r\n                    </Button>\r\n                    <Button onClick={() => state.purge()} color=\"secondary\">\r\n                        Yes, purge\r\n                    </Button>\r\n                </DialogActions>\r\n            </Dialog>\r\n\r\n        </>);\r\n    }\r\n}","import * as React from 'react';\r\nimport { observer } from 'mobx-react';\r\n\r\nimport {\r\n    Grid, TextField\r\n} from '@material-ui/core';\r\n\r\nimport { DurableOrchestrationStatus } from '../states/DurableOrchestrationStatus';\r\n\r\n// Fields for detailed durable entity view\r\n@observer\r\nexport class DurableEntityFields extends React.Component<{ details: DurableOrchestrationStatus }> {\r\n\r\n    render(): JSX.Element {\r\n        const details = this.props.details;\r\n\r\n        return (<>\r\n            <Grid container className=\"grid-container\">\r\n                <Grid item xs={12} sm={12} md={3} zeroMinWidth className=\"grid-item\">\r\n                    <TextField\r\n                        label=\"entityId.name\"\r\n                        value={details.entityId.name}\r\n                        margin=\"normal\"\r\n                        InputProps={{ readOnly: true }}\r\n                        InputLabelProps={{ shrink: true }}\r\n                        variant=\"outlined\"\r\n                        fullWidth\r\n                    />\r\n                </Grid>\r\n\r\n                <Grid item xs={12} sm={6} md={3} zeroMinWidth className=\"grid-item\">\r\n                    <TextField\r\n                        label=\"entityId.key\"\r\n                        value={details.entityId.key}\r\n                        margin=\"normal\"\r\n                        InputProps={{ readOnly: true }}\r\n                        InputLabelProps={{ shrink: true }}\r\n                        variant=\"outlined\"\r\n                        fullWidth\r\n                    />\r\n                </Grid>\r\n\r\n                <Grid item xs={12} sm={6} md={2} zeroMinWidth className=\"grid-item\">\r\n                    <TextField\r\n                        label=\"createdTime\"\r\n                        value={details.createdTime}\r\n                        margin=\"normal\"\r\n                        InputProps={{ readOnly: true }}\r\n                        InputLabelProps={{ shrink: true }}\r\n                        variant=\"outlined\"\r\n                        fullWidth\r\n                    />\r\n                </Grid>\r\n                <Grid item xs={12} sm={6} md={2} zeroMinWidth className=\"grid-item\">\r\n                    <TextField\r\n                        label=\"lastUpdatedTime\"\r\n                        value={details.lastUpdatedTime}\r\n                        margin=\"normal\"\r\n                        InputProps={{ readOnly: true }}\r\n                        InputLabelProps={{ shrink: true }}\r\n                        variant=\"outlined\"\r\n                        fullWidth\r\n                    />\r\n                </Grid>\r\n                <Grid item xs={12} sm={6} md={2} zeroMinWidth className=\"grid-item\">\r\n                    <TextField\r\n                        label=\"runtimeStatus\"\r\n                        value={details.runtimeStatus}\r\n                        margin=\"normal\"\r\n                        InputProps={{ readOnly: true }}\r\n                        InputLabelProps={{ shrink: true }}\r\n                        variant=\"outlined\"\r\n                        fullWidth\r\n                        className={!!details.runtimeStatus ? \"runtime-status-\" + details.runtimeStatus.toLowerCase() : \"\"}\r\n                    />\r\n                </Grid>\r\n                \r\n                <Grid item xs={12} zeroMinWidth className=\"grid-item\">\r\n                    <TextField\r\n                        label=\"input\"\r\n                        value={JSON.stringify(details.input, null, 3)}\r\n                        margin=\"normal\"\r\n                        InputProps={{ readOnly: true }}\r\n                        InputLabelProps={{ shrink: true }}\r\n                        variant=\"outlined\"\r\n                        fullWidth\r\n                        multiline\r\n                        rowsMax={10}\r\n                    />\r\n                </Grid>\r\n                <Grid item xs={12} zeroMinWidth className=\"grid-item\">\r\n                    <TextField\r\n                        label=\"customStatus\"\r\n                        value={JSON.stringify(details.customStatus, null, 3)}\r\n                        margin=\"normal\"\r\n                        InputProps={{ readOnly: true }}\r\n                        InputLabelProps={{ shrink: true }}\r\n                        variant=\"outlined\"\r\n                        fullWidth\r\n                        multiline\r\n                        rowsMax={10}\r\n                    />\r\n                </Grid>\r\n            </Grid>\r\n\r\n        </>);\r\n    }\r\n}","import * as React from 'react';\r\nimport { observer } from 'mobx-react';\r\n\r\nimport {\r\n    Box, Button, Dialog, DialogActions, DialogContent, DialogContentText, DialogTitle, TextField\r\n} from '@material-ui/core';\r\n\r\nimport { OrchestrationDetailsState } from '../states/OrchestrationDetailsState';\r\n\r\n// Buttons for detailed orchestration view\r\n@observer\r\nexport class OrchestrationButtons extends React.Component<{ state: OrchestrationDetailsState }> {\r\n\r\n    render(): JSX.Element {\r\n        const state = this.props.state;\r\n\r\n        return (<>\r\n\r\n            {this.renderDialogs(state)}\r\n\r\n            <Button variant=\"outlined\" color=\"primary\" size=\"large\" onClick={() => state.rewindConfirmationOpen = true}>\r\n                Rewind\r\n                </Button>\r\n            <Box width={20} />\r\n            <Button variant=\"outlined\" color=\"primary\" size=\"large\" onClick={() => state.terminateConfirmationOpen = true}>\r\n                Terminate\r\n            </Button>\r\n            <Box width={20} />\r\n            <Button variant=\"outlined\" color=\"primary\" size=\"large\" onClick={() => state.dialogOpen = true}>\r\n                Raise Event\r\n            </Button>\r\n            <Box width={20} />\r\n            <Button variant=\"outlined\" color=\"primary\" size=\"large\" onClick={() => state.purgeConfirmationOpen = true}>\r\n                Purge\r\n            </Button>            \r\n            \r\n        </>);\r\n    }\r\n\r\n    private renderDialogs(state: OrchestrationDetailsState): JSX.Element {\r\n        return (<>\r\n\r\n            <Dialog\r\n                open={state.rewindConfirmationOpen}\r\n                onClose={() => state.rewindConfirmationOpen = false}\r\n            >\r\n                <DialogTitle>Confirm Rewind</DialogTitle>\r\n                <DialogContent>\r\n                    <DialogContentText>\r\n                        You're about to rewind orchestration '{state.orchestrationId}'. Are you sure?\r\n                    </DialogContentText>\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button onClick={() => state.rewindConfirmationOpen = false} color=\"primary\" autoFocus>\r\n                        Cancel\r\n                    </Button>\r\n                    <Button onClick={() => state.rewind()} color=\"secondary\">\r\n                        Yes, rewind\r\n                    </Button>\r\n                </DialogActions>\r\n            </Dialog>\r\n\r\n            <Dialog\r\n                open={state.terminateConfirmationOpen}\r\n                onClose={() => state.terminateConfirmationOpen = false}\r\n            >\r\n                <DialogTitle>Confirm Terminate</DialogTitle>\r\n                <DialogContent>\r\n                    <DialogContentText>\r\n                        You're about to terminate orchestration '{state.orchestrationId}'. This operation cannot be undone. Are you sure?\r\n                    </DialogContentText>\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button onClick={() => state.terminateConfirmationOpen = false} color=\"primary\" autoFocus>\r\n                        Cancel\r\n                    </Button>\r\n                    <Button onClick={() => state.terminate()} color=\"secondary\">\r\n                        Yes, terminate\r\n                    </Button>\r\n                </DialogActions>\r\n            </Dialog>\r\n\r\n            <Dialog\r\n                open={state.dialogOpen}\r\n                onClose={() => state.dialogOpen = false}\r\n            >\r\n                <DialogTitle>Raise Event</DialogTitle>\r\n                <DialogContent>\r\n                    <DialogContentText>\r\n                        Provide event name and some additional data.\r\n                    </DialogContentText>\r\n\r\n                    <TextField\r\n                        autoFocus\r\n                        margin=\"dense\"\r\n                        label=\"Event Name\"\r\n                        fullWidth\r\n                        value={state.eventName}\r\n                        onChange={(evt) => state.eventName = evt.target.value as string}\r\n                    />\r\n\r\n                    <TextField\r\n                        margin=\"dense\"\r\n                        label=\"Event Data (JSON)\"\r\n                        fullWidth\r\n                        multiline\r\n                        rows={7}\r\n                        value={state.eventData}\r\n                        onChange={(evt) => state.eventData = evt.target.value as string}\r\n                    />\r\n\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button onClick={() => state.dialogOpen = false} color=\"primary\">\r\n                        Cancel\r\n                    </Button>\r\n                    <Button onClick={() => state.raiseEvent()} disabled={!state.eventName} color=\"secondary\">\r\n                        Raise\r\n                    </Button>\r\n                </DialogActions>\r\n            </Dialog>\r\n\r\n            <Dialog\r\n                open={state.purgeConfirmationOpen}\r\n                onClose={() => state.purgeConfirmationOpen = false}\r\n            >\r\n                <DialogTitle>Confirm Purge</DialogTitle>\r\n                <DialogContent>\r\n                    <DialogContentText>\r\n                        You're about to purge orchestration '{state.orchestrationId}'. This operation drops orchestration state from the underlying storage and cannot be undone. Are you sure?\r\n                    </DialogContentText>\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button onClick={() => state.purgeConfirmationOpen = false} color=\"primary\" autoFocus>\r\n                        Cancel\r\n                    </Button>\r\n                    <Button onClick={() => state.purge()} color=\"secondary\">\r\n                        Yes, purge\r\n                    </Button>\r\n                </DialogActions>\r\n            </Dialog>\r\n        </>);\r\n    }\r\n}","import * as React from 'react';\r\nimport { observer } from 'mobx-react';\r\n\r\nimport {\r\n    FormHelperText, Grid, InputBase, Table, TableBody, TableCell, TableHead, TableRow, Typography, TextField\r\n} from '@material-ui/core';\r\n\r\nimport { DurableOrchestrationStatus, HistoryEventFields } from '../states/DurableOrchestrationStatus';\r\n\r\n// Fields for detailed orchestration view\r\n@observer\r\nexport class OrchestrationFields extends React.Component<{ details: DurableOrchestrationStatus }> {\r\n\r\n    render(): JSX.Element {\r\n        const details = this.props.details;\r\n\r\n        return (<>\r\n            <Grid container className=\"grid-container\">\r\n                <Grid item xs={12} sm={12} md={3} zeroMinWidth className=\"grid-item\">\r\n                    <TextField\r\n                        label=\"name\"\r\n                        value={details.name}\r\n                        margin=\"normal\"\r\n                        InputProps={{ readOnly: true }}\r\n                        InputLabelProps={{ shrink: true }}\r\n                        variant=\"outlined\"\r\n                        fullWidth\r\n                    />\r\n                </Grid>\r\n                <Grid item xs={12} sm={6} md={2} zeroMinWidth className=\"grid-item\">\r\n                    <TextField\r\n                        label=\"createdTime\"\r\n                        value={details.createdTime}\r\n                        margin=\"normal\"\r\n                        InputProps={{ readOnly: true }}\r\n                        InputLabelProps={{ shrink: true }}\r\n                        variant=\"outlined\"\r\n                        fullWidth\r\n                    />\r\n                </Grid>\r\n                <Grid item xs={12} sm={6} md={2} zeroMinWidth className=\"grid-item\">\r\n                    <TextField\r\n                        label=\"lastUpdatedTime\"\r\n                        value={details.lastUpdatedTime}\r\n                        margin=\"normal\"\r\n                        InputProps={{ readOnly: true }}\r\n                        InputLabelProps={{ shrink: true }}\r\n                        variant=\"outlined\"\r\n                        fullWidth\r\n                    />\r\n                </Grid>\r\n                <Grid item xs={12} sm={6} md={2} zeroMinWidth className=\"grid-item\">\r\n                    <TextField\r\n                        label=\"runtimeStatus\"\r\n                        value={details.runtimeStatus}\r\n                        margin=\"normal\"\r\n                        InputProps={{ readOnly: true }}\r\n                        InputLabelProps={{ shrink: true }}\r\n                        variant=\"outlined\"\r\n                        fullWidth\r\n                        className={!!details.runtimeStatus ? \"runtime-status-\" + details.runtimeStatus.toLowerCase() : \"\"}\r\n                    />\r\n                </Grid>\r\n                <Grid item xs={12} sm={6} md={3} zeroMinWidth className=\"grid-item\">\r\n                    <TextField\r\n                        label=\"customStatus\"\r\n                        value={JSON.stringify(details.customStatus)}\r\n                        margin=\"normal\"\r\n                        InputProps={{ readOnly: true }}\r\n                        InputLabelProps={{ shrink: true }}\r\n                        variant=\"outlined\"\r\n                        fullWidth\r\n                    />\r\n                </Grid>\r\n                <Grid item xs={12} zeroMinWidth className=\"grid-item\">\r\n                    <TextField\r\n                        label=\"input\"\r\n                        value={JSON.stringify(details.input, null, 3)}\r\n                        margin=\"normal\"\r\n                        InputProps={{ readOnly: true }}\r\n                        InputLabelProps={{ shrink: true }}\r\n                        variant=\"outlined\"\r\n                        fullWidth\r\n                        multiline\r\n                        rowsMax={8}\r\n                    />\r\n                </Grid>\r\n                <Grid item xs={12} zeroMinWidth className=\"grid-item\">\r\n                    <TextField\r\n                        label=\"output\"\r\n                        value={JSON.stringify(details.output, null, 3)}\r\n                        margin=\"normal\"\r\n                        InputProps={{ readOnly: true }}\r\n                        InputLabelProps={{ shrink: true }}\r\n                        variant=\"outlined\"\r\n                        fullWidth\r\n                        multiline\r\n                        rowsMax={8}\r\n                    />\r\n                </Grid>\r\n            </Grid>\r\n\r\n            <FormHelperText className=\"history-events-count-label\">\r\n                historyEvents: {!!details.historyEvents ? details.historyEvents.length : 0} items\r\n            </FormHelperText>\r\n\r\n            {this.renderTable(details.historyEvents)}\r\n\r\n        </>);\r\n    }\r\n\r\n    private renderEmptyTable(): JSX.Element {\r\n        return (\r\n            <Typography variant=\"h5\" className=\"empty-table-placeholder\" >\r\n                This list is empty\r\n            </Typography>\r\n        );\r\n    }\r\n\r\n    private renderTable(events: Array<any> | undefined): JSX.Element {\r\n\r\n        if (!events || !events.length) {\r\n            return this.renderEmptyTable();\r\n        }\r\n\r\n        return (\r\n            <Table size=\"small\">\r\n                <TableHead>\r\n                    <TableRow>\r\n                        {HistoryEventFields.map(col => {\r\n                            return <TableCell key={col}>{col}</TableCell>;\r\n                        })}\r\n                    </TableRow>\r\n                </TableHead>\r\n                <TableBody>\r\n                    {events.map((event: any, index: number) => {\r\n\r\n                        const cellStyle = { verticalAlign: 'top' };\r\n                        return (\r\n                            <TableRow key={index}>\r\n                                <TableCell style={cellStyle}>\r\n                                    {event.Timestamp}\r\n                                </TableCell>\r\n                                <TableCell style={cellStyle}>\r\n                                    {event.EventType}\r\n                                </TableCell>\r\n                                <TableCell className=\"name-cell\" style={cellStyle}>\r\n                                    {!!event.Name ? event.Name : event.FunctionName}\r\n                                </TableCell>\r\n                                <TableCell style={cellStyle}>\r\n                                    {event.ScheduledTime}\r\n                                </TableCell>\r\n                                <TableCell className=\"long-text-cell\" style={cellStyle}>\r\n                                    <InputBase\r\n                                        className=\"long-text-cell-input\"\r\n                                        multiline fullWidth rowsMax={5} readOnly\r\n                                        value={JSON.stringify(event.Result)}\r\n                                    />\r\n                                </TableCell>\r\n                                <TableCell className=\"long-text-cell\" style={cellStyle}>\r\n                                    <InputBase\r\n                                        className=\"long-text-cell-input\"\r\n                                        multiline fullWidth rowsMax={5} readOnly\r\n                                        value={event.Details}\r\n                                    />\r\n                                </TableCell>\r\n                            </TableRow>\r\n                        );\r\n                    })}\r\n                </TableBody>\r\n            </Table>\r\n        );\r\n    }\r\n}","import * as React from 'react';\r\nimport { observer } from 'mobx-react';\r\n\r\nimport {\r\n    Box, Button, FormControl, InputLabel, LinearProgress, MenuItem, Select, Toolbar, Typography\r\n} from '@material-ui/core';\r\n\r\nimport RefreshIcon from '@material-ui/icons/Refresh';\r\n\r\nimport './OrchestrationDetails.css';\r\n\r\nimport { DurableEntityButtons } from './DurableEntityButtons';\r\nimport { DurableEntityFields } from './DurableEntityFields';\r\nimport { ErrorMessage } from './ErrorMessage';\r\nimport { OrchestrationButtons } from './OrchestrationButtons';\r\nimport { OrchestrationDetailsState } from '../states/OrchestrationDetailsState';\r\nimport { OrchestrationFields } from './OrchestrationFields';\r\n\r\n// Orchestration Details view\r\n@observer\r\nexport class OrchestrationDetails extends React.Component<{ state: OrchestrationDetailsState }> {\r\n\r\n    componentDidMount() {\r\n\r\n        // Triggering initial load\r\n        this.props.state.loadDetails();\r\n    }\r\n    \r\n    render(): JSX.Element {\r\n        const state = this.props.state;\r\n\r\n        return (<div>\r\n            {state.inProgress ? (<LinearProgress />) : (<Box height={4} />)}\r\n           \r\n            <Toolbar variant=\"dense\" className=\"top-toolbar\">\r\n\r\n                {state.details.entityType === \"Orchestration\" && (\r\n                    <OrchestrationButtons state={state} />\r\n                )}\r\n                {state.details.entityType === \"DurableEntity\" && (\r\n                    <DurableEntityButtons state={state} />\r\n                )}\r\n                \r\n                <Box width={20} />\r\n                <Typography style={{ flex: 1 }} />\r\n\r\n                <FormControl>\r\n                    <InputLabel htmlFor=\"auto-refresh-select\">Auto-refresh</InputLabel>\r\n                    <Select\r\n                        className=\"toolbar-select\"\r\n                        value={state.autoRefresh}\r\n                        onChange={(evt) => state.autoRefresh = evt.target.value as number}\r\n                        inputProps={{ id: 'auto-refresh-select' }}>\r\n                        <MenuItem value={0}>Never</MenuItem>\r\n                        <MenuItem value={1}>Every 1 sec.</MenuItem>\r\n                        <MenuItem value={5}>Every 5 sec.</MenuItem>\r\n                        <MenuItem value={10}>Every 10 sec.</MenuItem>\r\n                    </Select>\r\n                </FormControl>\r\n\r\n                <Box width={20} />\r\n\r\n                <Button className=\"refresh-button\" variant=\"outlined\" color=\"default\" size=\"large\" onClick={() => state.loadDetails()}>\r\n                    <RefreshIcon />\r\n                </Button>\r\n\r\n            </Toolbar>\r\n\r\n            {state.details.entityType === \"Orchestration\" && (\r\n                <OrchestrationFields details={state.details} />\r\n            )}\r\n            {state.details.entityType === \"DurableEntity\" && (\r\n                <DurableEntityFields details={state.details} />\r\n            )}\r\n\r\n            {state.inProgress ? (<LinearProgress />) : (<Box height={4} />)}\r\n            <Box height={10} /> \r\n\r\n            <ErrorMessage state={this.props.state} />\r\n            \r\n        </div>);\r\n    }\r\n}","import * as React from 'react';\r\nimport { observer } from 'mobx-react';\r\n\r\nimport {\r\n    Box, Checkbox, Button, Dialog, DialogActions, DialogContent, DialogContentText, DialogTitle, FormControl,\r\n    FormControlLabel, FormGroup, FormLabel, LinearProgress, Radio, RadioGroup, TextField, Tooltip, Typography\r\n} from '@material-ui/core';\r\n\r\nimport './PurgeHistoryDialog.css';\r\n\r\nimport { DateTimeHelpers } from '../DateTimeHelpers';\r\nimport { ErrorMessage } from './ErrorMessage';\r\nimport { EntityType, RuntimeStatus } from '../states/DurableOrchestrationStatus';\r\nimport { PurgeHistoryDialogState } from '../states/PurgeHistoryDialogState';\r\n\r\n// Dialog with parameters for purging orchestration instance history\r\n@observer\r\nexport class PurgeHistoryDialog extends React.Component<{ state: PurgeHistoryDialogState }> {\r\n\r\n    render(): JSX.Element {\r\n        const state = this.props.state;\r\n\r\n        return (\r\n            <Dialog open={state.dialogOpen} onClose={() => { if (!state.inProgress) state.dialogOpen = false; }}>\r\n\r\n                <DialogTitle>Purge Instance History</DialogTitle>\r\n\r\n                {state.instancesDeleted === null && (\r\n                    <div>\r\n                        <DialogContent>\r\n\r\n                            {state.inProgress ? (<LinearProgress />) : (<Box height={4} />)}\r\n\r\n                            <DialogContentText>\r\n                                WARNING: this operation drops instance states from the underlying storage and cannot be undone.\r\n\r\n                                {state.entityType === \"DurableEntity\" && (\r\n                                    <Typography color=\"error\" >\r\n                                        It might as well remove Durable Entities, that are still active.\r\n                                        Ensure that you specify the correct time frame!\r\n                                    </Typography>\r\n                                )}\r\n\r\n                            </DialogContentText>\r\n\r\n                            <FormControl className=\"purge-history-statuses\" disabled={state.inProgress} fullWidth>\r\n                                <FormLabel>Apply to:</FormLabel>\r\n                                <RadioGroup row\r\n                                    value={state.entityType}\r\n                                    onChange={(evt) => state.entityType = (evt.target as HTMLInputElement).value as EntityType}\r\n                                >\r\n                                    <FormControlLabel\r\n                                        disabled={state.inProgress}\r\n                                        value={\"Orchestration\"}\r\n                                        control={<Radio />}\r\n                                        label=\"Orchestrations\"\r\n                                    />\r\n                                    <FormControlLabel\r\n                                        disabled={state.inProgress}\r\n                                        value={\"DurableEntity\"}\r\n                                        control={<Radio />}\r\n                                        label=\"Durable Entities\"\r\n                                    />\r\n                                </RadioGroup>\r\n                            </FormControl>\r\n\r\n                            <TextField\r\n                                className=\"purge-history-from-input\"\r\n                                label=\"From (UTC)\"\r\n                                type=\"datetime-local\"\r\n                                InputLabelProps={{ shrink: true }}\r\n                                disabled={state.inProgress}\r\n                                value={DateTimeHelpers.formatDateTime(state.timeFrom)}\r\n                                onChange={(evt) => { state.timeFrom = DateTimeHelpers.getDateTimeValue(evt); }}\r\n                            />\r\n\r\n                            <TextField\r\n                                className=\"purge-history-till-input\"\r\n                                label=\"Till (UTC)\"\r\n                                type=\"datetime-local\"\r\n                                InputLabelProps={{ shrink: true }}\r\n                                disabled={state.inProgress}\r\n                                value={DateTimeHelpers.formatDateTime(state.timeTill)}\r\n                                onChange={(evt) => { state.timeTill = DateTimeHelpers.getDateTimeValue(evt); }}\r\n                            />\r\n\r\n                            <FormControl className=\"purge-history-statuses\" disabled={state.inProgress}>\r\n                                <FormLabel>With the following status:</FormLabel>\r\n\r\n                                {state.entityType === \"Orchestration\" && (\r\n                                    <FormGroup row>\r\n                                        <RuntimeStatusCheckbox state={state} runtimeStatus=\"Completed\" />\r\n                                        <RuntimeStatusCheckbox state={state} runtimeStatus=\"Failed\" />\r\n                                        <RuntimeStatusCheckbox state={state} runtimeStatus=\"Terminated\" />\r\n                                    </FormGroup>\r\n                                )}\r\n\r\n                                {state.entityType === \"DurableEntity\" && (\r\n                                    <FormGroup row>\r\n                                        <Tooltip title=\"Durable Entities are always in 'Running' state\">\r\n                                            <FormControlLabel\r\n                                                control={<Checkbox\r\n                                                    checked={true} />}\r\n                                                label=\"Running\"\r\n                                                disabled={true}\r\n                                            />\r\n                                        </Tooltip>\r\n                                    </FormGroup>\r\n                                )}\r\n                            </FormControl>\r\n\r\n                            <ErrorMessage state={state} />\r\n\r\n                        </DialogContent>\r\n                        <DialogActions>\r\n                            <Button onClick={() => state.dialogOpen = false} disabled={state.inProgress} color=\"primary\">\r\n                                Cancel\r\n                            </Button>\r\n                            <Button onClick={() => state.purgeHistory()} disabled={!state.isValid || state.inProgress} color=\"secondary\">\r\n                                Purge\r\n                            </Button>\r\n                        </DialogActions>\r\n                    </div>\r\n                )}\r\n\r\n                {state.instancesDeleted !== null && (\r\n                    <div>\r\n                        <DialogContent>\r\n                            <DialogContentText className=\"success-message\">\r\n                                {state.instancesDeleted} instances were deleted.\r\n                            </DialogContentText>\r\n                        </DialogContent>\r\n                        <DialogActions>\r\n                            <Button onClick={() => state.dialogOpen = false} color=\"primary\">\r\n                                Close\r\n                            </Button>\r\n                        </DialogActions>\r\n                    </div>\r\n                )}\r\n\r\n            </Dialog>\r\n        );\r\n    }\r\n}\r\n\r\n@observer\r\nclass RuntimeStatusCheckbox extends React.Component<{ state: PurgeHistoryDialogState, runtimeStatus: RuntimeStatus }> {\r\n\r\n    render(): JSX.Element {\r\n        const state = this.props.state;\r\n        const runtimeStatus = this.props.runtimeStatus;\r\n\r\n        return (\r\n            <FormControlLabel\r\n                control={<Checkbox\r\n                    checked={state.getStatusIncluded(runtimeStatus)}\r\n                    onChange={(evt) => state.setStatusIncluded(runtimeStatus, evt.target.checked)} />}\r\n                label={runtimeStatus}\r\n            />\r\n        );\r\n    }\r\n}","import * as React from 'react';\r\nimport { observer } from 'mobx-react';\r\n\r\nimport { AppBar, Breadcrumbs, Box, Link, Toolbar, Typography } from '@material-ui/core';\r\n\r\nimport './Main.css';\r\n\r\nimport { LoginIcon } from './LoginIcon';\r\nimport { MainMenu } from './MainMenu';\r\nimport { MainState } from '../states/MainState';\r\nimport { Orchestrations } from './Orchestrations';\r\nimport { OrchestrationDetails } from './OrchestrationDetails';\r\nimport { PurgeHistoryDialog } from './PurgeHistoryDialog';\r\n\r\nconst logo = require('../logo.svg');\r\n\r\nexport const UriSuffix = process.env.REACT_APP_URI_SUFFIX as string;\r\n\r\n// The main application view\r\n@observer\r\nexport class Main extends React.Component<{ state: MainState }> {\r\n\r\n    render(): JSX.Element {\r\n        const state = this.props.state;\r\n\r\n        return (\r\n            <div>\r\n\r\n                {!state.loginState && (\r\n                    <Box height={20}/>\r\n                )}\r\n                \r\n                {!!state.loginState && (\r\n                    <AppBar position=\"static\" color=\"default\" className=\"app-bar\">\r\n                        <Toolbar>\r\n\r\n                            {state.loginState.isLoggedIn && !!state.mainMenuState && (\r\n                                <MainMenu state={state.mainMenuState} />\r\n                            )}\r\n\r\n                            <img src={logo} width=\"30px\"></img>\r\n                            <Box width={5} />\r\n\r\n                            <Typography variant=\"h6\" color=\"inherit\" className=\"title-typography\">\r\n                                Durable Functions Monitor\r\n                            </Typography>\r\n\r\n                            <Breadcrumbs color=\"inherit\">\r\n                                <Link color=\"inherit\" href={UriSuffix}>\r\n                                    / instances\r\n                                </Link>\r\n                                {!!state.orchestrationDetailsState && (\r\n                                    <Typography color=\"inherit\">\r\n                                        {state.orchestrationDetailsState.orchestrationId}\r\n                                    </Typography>\r\n                                )}\r\n                            </Breadcrumbs>\r\n\r\n                            <Typography style={{ flex: 1 }} />\r\n\r\n                            <LoginIcon state={state.loginState} />\r\n                        </Toolbar>\r\n                    </AppBar>\r\n                )}\r\n\r\n                {!!state.orchestrationsState && (!state.loginState || state.loginState.isLoggedIn) && (\r\n                    <Orchestrations state={state.orchestrationsState} />\r\n                )}\r\n\r\n                {!!state.orchestrationDetailsState && (!state.loginState || state.loginState.isLoggedIn) && (\r\n                    <OrchestrationDetails state={state.orchestrationDetailsState} />\r\n                )}\r\n\r\n                <PurgeHistoryDialog state={state.purgeHistoryDialogState}/>\r\n\r\n            </div>\r\n        );\r\n    }\r\n}","import axios, { Method } from 'axios';\r\nimport { IBackendClient } from './IBackendClient';\r\n\r\nexport const BackendBaseUri = process.env.REACT_APP_BACKEND_BASE_URI as string;\r\n\r\n// Common IBackendClient implementation, sends HTTP requests directly\r\nexport class BackendClient implements IBackendClient {\r\n\r\n    get isVsCode(): boolean { return false; }\r\n\r\n    constructor(private _getAuthorizationHeaderAsync: () => Promise<{ Authorization: string }>) {\r\n    }\r\n\r\n    call(method: Method, url: string, data?: any): Promise<any> {\r\n        return new Promise<any>((resolve, reject) => {\r\n\r\n            this._getAuthorizationHeaderAsync().then(headers => {\r\n\r\n                axios.request({\r\n                    url: BackendBaseUri + url,\r\n                    method, data, headers\r\n                }).then(r => { resolve(r.data); }, reject);\r\n            });\r\n        });\r\n    }\r\n}","import { action, observable, computed } from 'mobx'\r\nimport axios, { AxiosResponse } from 'axios';\r\nimport * as Msal from 'msal';\r\n\r\nimport { ErrorMessageState } from './ErrorMessageState';\r\n\r\nexport const BackendBaseUri = process.env.REACT_APP_BACKEND_BASE_URI as string;\r\n\r\n// Login State\r\nexport class LoginState extends ErrorMessageState {\r\n\r\n    @computed\r\n    get isLoggedIn(): boolean { return this._isLoggedIn; };\r\n\r\n    @computed\r\n    get isLoggedInAnonymously(): boolean { return !this._userName; };\r\n\r\n    @computed\r\n    get userName(): string { return this._userName; };\r\n\r\n    @observable\r\n    menuAnchorElement?: Element;\r\n\r\n    constructor() {\r\n        super();\r\n        this.login();\r\n    }\r\n\r\n    login() {\r\n        const uri = `${BackendBaseUri}/easyauth-config`;\r\n        axios.get(uri).then(this.loginWithEasyAuthConfig, err => {\r\n            this.errorMessage = `${err.message}.${(!!err.response ? err.response.data : '')}`;\r\n        });\r\n    }\r\n\r\n    logout() {\r\n        this.menuAnchorElement = undefined;\r\n        this._aadApp.logout();\r\n    }\r\n\r\n    @action.bound\r\n    getAuthorizationHeaderAsync() {\r\n\r\n        // Let's think we're on localhost and proceed with no auth\r\n        if (!this._aadApp) {\r\n            return new Promise<{ Authorization: string }>((resolve, reject) => resolve());\r\n        }\r\n\r\n        return new Promise<{ Authorization: string }>((resolve, reject) => {\r\n            // Obtaining a token to access our own AAD app\r\n            const authParams: Msal.AuthenticationParameters = {\r\n                scopes: [this._aadApp.getCurrentConfiguration().auth.clientId]\r\n            };\r\n\r\n            this._aadApp.acquireTokenSilent(authParams)\r\n                .then((authResponse) => {\r\n\r\n                    var accessToken = authResponse.accessToken;\r\n                    if (!accessToken) {\r\n                        // https://github.com/AzureAD/microsoft-authentication-library-for-js/issues/736\r\n                        // accessToken might randomly be returned as null, in which case we can probably use id_token\r\n                        // (which is supposed to be the same)\r\n                        console.log('DFM: accessToken is null, so using idToken.rawIdToken instead');\r\n                        accessToken = authResponse.idToken.rawIdToken;\r\n                    }\r\n\r\n                    resolve({ Authorization: `Bearer ${accessToken}` });\r\n\r\n                }, err => {\r\n                    // If silent token aquiring failed, then just redirecting the user back to AAD, \r\n                    // so that the page is reloaded anyway.\r\n                    // This is supposed to happen very rarely, as default refresh token lifetime is quite long.  \r\n                    console.log(`DFM: acquireTokenSilent() failed (${err}), so calling acquireTokenRedirect()...`);\r\n                    this._aadApp.acquireTokenRedirect(authParams);\r\n                });\r\n        });\r\n    }\r\n\r\n    @observable\r\n    private _isLoggedIn: boolean = false;\r\n\r\n    @observable\r\n    private _userName: string;\r\n\r\n    private _aadApp: Msal.UserAgentApplication;\r\n\r\n    @action.bound\r\n    private loginWithEasyAuthConfig(easyAuthConfigResponse: AxiosResponse<any>) {\r\n\r\n        const config = easyAuthConfigResponse.data;\r\n        if (!config.clientId) {\r\n            // Let's think we're on localhost and proceed with no auth\r\n            this._isLoggedIn = true;\r\n            return;\r\n        }\r\n\r\n        // Configuring MSAL with values received from backend\r\n        this._aadApp = new Msal.UserAgentApplication({\r\n            auth: {\r\n                clientId: config.clientId,\r\n                authority: config.authority\r\n            }\r\n        })\r\n\r\n        // Checking if it was a redirect from AAD\r\n        this._aadApp.handleRedirectCallback(() => { }, this.handleRedirectCallbackFailed);\r\n        const account = this._aadApp.getAccount();\r\n\r\n        if (!account) {\r\n            // Redirecting user to AAD. Redirect flow is more reliable (doesn't need popups enabled)\r\n            console.log('DFM: redirecting user to AAD for login...');\r\n            this._aadApp.loginRedirect();\r\n        } else {\r\n            // We've logged in successfully. Setting user name.\r\n            this._userName = account.userName;\r\n            this._isLoggedIn = true;\r\n        }\r\n    }\r\n\r\n    @action.bound\r\n    private handleRedirectCallbackFailed(authErr: Msal.AuthError, accountState: string) {\r\n        this.errorMessage = `Failed to handle login redirect. name: ${authErr.name}, message: ${authErr.message}, errorCode: ${authErr.errorCode}, errorMessage: ${authErr.errorMessage}, accountState: ${accountState}`;\r\n    }\r\n}","import { observable, computed } from 'mobx'\r\n\r\nimport { ErrorMessageState } from './ErrorMessageState';\r\nimport { IBackendClient } from '../services/IBackendClient';\r\nimport { PurgeHistoryDialogState } from './PurgeHistoryDialogState';\r\n\r\n// State of Main Menu component\r\nexport class MainMenuState extends ErrorMessageState {\r\n\r\n    @observable\r\n    menuAnchorElement?: Element;\r\n\r\n    @observable\r\n    hubName: string;\r\n    @observable\r\n    connectionString: string;\r\n    \r\n    @observable\r\n    connectionParamsDialogOpen: boolean = false;\r\n\r\n    @computed\r\n    get inProgress(): boolean { return this._inProgress; }\r\n\r\n    @computed\r\n    get isReadonly(): boolean { return this._isReadOnly; }\r\n\r\n    @computed\r\n    get isDirty(): boolean {\r\n        return (this.connectionString !== this._oldConnectionString) || (this.hubName !== this._oldHubName);\r\n    }\r\n\r\n    constructor(private _backendClient: IBackendClient, private _purgeHistoryDialogState: PurgeHistoryDialogState) {\r\n        super();\r\n    }\r\n    \r\n    showConnectionParamsDialog() {\r\n        this.menuAnchorElement = undefined;\r\n\r\n        this.connectionParamsDialogOpen = true;\r\n        this._inProgress = true;\r\n\r\n        this._backendClient.call('GET', '/manage-connection').then(response => {\r\n\r\n            this.connectionString = this._oldConnectionString = response.connectionString;\r\n            this.hubName = this._oldHubName = response.hubName;\r\n            this._isReadOnly = response.isReadOnly;\r\n\r\n        }, err => {\r\n            this.errorMessage = `Load failed: ${err.message}.${(!!err.response ? err.response.data : '')} `;\r\n        }).finally(() => {\r\n            this._inProgress = false;\r\n        });\r\n    }\r\n\r\n    saveConnectionParams() {\r\n\r\n        this._inProgress = true;\r\n\r\n        this._backendClient.call('PUT', '/manage-connection', {\r\n            connectionString: this.connectionString !== this._oldConnectionString ? this.connectionString : '',\r\n            hubName: this.hubName\r\n        }).then(() => {\r\n        \r\n            this.connectionParamsDialogOpen = false;\r\n\r\n            alert(`Your changes were saved to local.settings.json file, but they cannot be picked up automatically. Please, restart the Function Host for them to take effect.`);\r\n\r\n        }, err => {\r\n            this.errorMessage = `Save failed: ${err.message}.${(!!err.response ? err.response.data : '')} `;\r\n        }).finally(() => {\r\n            this._inProgress = false;\r\n        });\r\n    }\r\n\r\n    showPurgeHistoryDialog() {\r\n        this.menuAnchorElement = undefined;\r\n        \r\n        this._purgeHistoryDialogState.dialogOpen = true;\r\n    }\r\n\r\n    setWindowTitle() {\r\n        \r\n        this._backendClient.call('GET', '/about').then(response => {\r\n            document.title = `Durable Functions Monitor (${response.accountName}/${response.hubName}) v${response.version}`;\r\n        });\r\n    }\r\n\r\n    @observable\r\n    private _inProgress: boolean = false;\r\n\r\n    @observable\r\n    private _isReadOnly: boolean = false;\r\n    \r\n    private _oldConnectionString: string;\r\n    private _oldHubName: string;\r\n}","import { observable, computed } from 'mobx'\r\n\r\nimport { DurableOrchestrationStatus } from '../states/DurableOrchestrationStatus';\r\nimport { ErrorMessageState } from './ErrorMessageState';\r\nimport { IBackendClient } from '../services/IBackendClient';\r\nimport { ITypedLocalStorage } from './ITypedLocalStorage';\r\n\r\n// State of OrchestrationDetails view\r\nexport class OrchestrationDetailsState extends ErrorMessageState {\r\n\r\n    @observable\r\n    details: DurableOrchestrationStatus = new DurableOrchestrationStatus();\r\n\r\n    @computed\r\n    get orchestrationId(): string { return this._orchestrationId; }\r\n\r\n    @computed\r\n    get inProgress(): boolean { return this._inProgress; };\r\n\r\n    @computed\r\n    get autoRefresh(): number { return this._autoRefresh; }\r\n    set autoRefresh(val: number) {\r\n        this._autoRefresh = val;\r\n        this._localStorage.setItem('autoRefresh', this._autoRefresh.toString());\r\n        this.loadDetails();\r\n    }\r\n\r\n    @computed\r\n    get dialogOpen(): boolean { return this._dialogOpen; }\r\n    set dialogOpen(val: boolean) {\r\n        this._dialogOpen = val;\r\n        this.eventName = '';\r\n        this.eventData = '';\r\n    }\r\n\r\n    @observable\r\n    rewindConfirmationOpen: boolean = false;\r\n    @observable\r\n    terminateConfirmationOpen: boolean = false;\r\n    @observable\r\n    purgeConfirmationOpen: boolean = false;\r\n    @observable\r\n    eventName: string;\r\n    @observable\r\n    eventData: string;\r\n\r\n    constructor(private _orchestrationId: string,\r\n        private _backendClient: IBackendClient,\r\n        private _localStorage: ITypedLocalStorage<OrchestrationDetailsState>) {\r\n        super();\r\n\r\n        const autoRefreshString = this._localStorage.getItem('autoRefresh');\r\n        if (!!autoRefreshString) {\r\n            this._autoRefresh = Number(autoRefreshString);\r\n        }\r\n    }\r\n\r\n    rewind() {\r\n        this.rewindConfirmationOpen = false;\r\n\r\n        const uri = `/orchestrations('${this._orchestrationId}')/rewind`;\r\n        this._inProgress = true;\r\n\r\n        this._backendClient.call('POST', uri).then(() => {\r\n            this._inProgress = false;\r\n            this.loadDetails();\r\n        }, err => {\r\n            this._inProgress = false;\r\n            this.errorMessage = `Failed to rewind: ${err.message}.${(!!err.response ? err.response.data : '')} `;\r\n        });\r\n    }\r\n\r\n    terminate() {\r\n        this.terminateConfirmationOpen = false;\r\n\r\n        const uri = `/orchestrations('${this._orchestrationId}')/terminate`;\r\n        this._inProgress = true;\r\n\r\n        this._backendClient.call('POST', uri).then(() => {\r\n            this._inProgress = false;\r\n            this.loadDetails();\r\n        }, err => {\r\n            this._inProgress = false;\r\n            this.errorMessage = `Failed to terminate: ${err.message}.${(!!err.response ? err.response.data : '')} `;\r\n        });\r\n    }\r\n\r\n    purge() {\r\n        this.purgeConfirmationOpen = false;\r\n\r\n        const uri = `/orchestrations('${this._orchestrationId}')/purge`;\r\n        this._inProgress = true;\r\n\r\n        this._backendClient.call('POST', uri).then(() => {\r\n            this._inProgress = false;\r\n            this.details = new DurableOrchestrationStatus();\r\n        }, err => {\r\n            this._inProgress = false;\r\n            this.errorMessage = `Failed to purge: ${err.message}.${(!!err.response ? err.response.data : '')} `;\r\n        });\r\n    }\r\n\r\n    raiseEvent() {\r\n\r\n        const uri = `/orchestrations('${this._orchestrationId}')/raise-event`;\r\n        const requestBody = { name: this.eventName, data: null };\r\n\r\n        try {\r\n            requestBody.data = JSON.parse(this.eventData);\r\n        } catch (err) {\r\n            this.errorMessage = `Event Data failed to parse: ${err.message}`;\r\n            return;\r\n        } finally {\r\n            this.dialogOpen = false;\r\n        }\r\n\r\n        this._inProgress = true;\r\n\r\n        this._backendClient.call('POST', uri, requestBody).then(() => {\r\n            this._inProgress = false;\r\n            this.loadDetails();\r\n        }, err => {\r\n            this._inProgress = false;\r\n            this.errorMessage = `Failed to raise an event: ${err.message}.${(!!err.response ? err.response.data : '')} `;\r\n        });\r\n    }\r\n\r\n    loadDetails() {\r\n\r\n        if (!!this.inProgress) {\r\n            return;\r\n        }\r\n        this._inProgress = true;\r\n\r\n        const uri = `/orchestrations('${this._orchestrationId}')`;\r\n\r\n        this._backendClient.call('GET', uri).then(response => {\r\n\r\n            if (!response) {\r\n                this.errorMessage = `Orchestration '${this._orchestrationId}' not found.`;\r\n\r\n                // Cancelling auto-refresh just in case\r\n                this._autoRefresh = 0;\r\n                return;\r\n            }\r\n\r\n            // Based on backend implementation, this field can appear to be called differently ('historyEvents' vs. 'history')\r\n            // Fixing that here\r\n            if (!!response.history) {\r\n                response.historyEvents = response.history;\r\n            }\r\n\r\n            this.details = response;\r\n\r\n            // Doing auto-refresh\r\n            if (!!this._autoRefresh) {\r\n\r\n                if (!!this._autoRefreshToken) {\r\n                    clearTimeout(this._autoRefreshToken);\r\n                }\r\n                this._autoRefreshToken = setTimeout(() => this.loadDetails(), this._autoRefresh * 1000);\r\n            }\r\n\r\n        }, err => {\r\n\r\n            // Cancelling auto-refresh just in case\r\n            this._autoRefresh = 0;\r\n\r\n            this.errorMessage = `Load failed: ${err.message}.${(!!err.response ? err.response.data : '')} `;\r\n\r\n        }).finally(() => {\r\n            this._inProgress = false;\r\n        });\r\n    }\r\n\r\n    @observable\r\n    private _inProgress: boolean = false;\r\n    @observable\r\n    _dialogOpen: boolean = false;\r\n    @observable\r\n    private _autoRefresh: number = 0;\r\n\r\n    private _autoRefreshToken: NodeJS.Timeout;\r\n}","import { observable, computed } from 'mobx'\r\n\r\nimport { IBackendClient } from '../services/IBackendClient';\r\nimport { RuntimeStatus, EntityType } from './DurableOrchestrationStatus';\r\nimport { ErrorMessageState } from './ErrorMessageState';\r\n\r\n// State of Purge History Dialog\r\nexport class PurgeHistoryDialogState extends ErrorMessageState {\r\n\r\n    @computed\r\n    get dialogOpen(): boolean { return this._dialogOpen; };\r\n    set dialogOpen(value: boolean) {\r\n        this._dialogOpen = value;\r\n\r\n        if (value) {\r\n\r\n            this._instancesDeleted = null;\r\n\r\n            var timeFrom: Date = new Date();\r\n            timeFrom.setDate(timeFrom.getDate() - 1);\r\n            this.timeFrom = timeFrom;\r\n\r\n            this.timeTill = new Date();\r\n\r\n            this._statuses = new Set<RuntimeStatus>([\"Completed\", \"Terminated\"]);\r\n\r\n            this.entityType = \"Orchestration\";\r\n        }\r\n    }\r\n\r\n    @computed\r\n    get instancesDeleted(): number | null { return this._instancesDeleted; };\r\n\r\n    @computed\r\n    get inProgress(): boolean { return this._inProgress; };\r\n\r\n    @computed\r\n    get isValid(): boolean { return this._statuses.size > 0; };\r\n\r\n    constructor(private _backendClient: IBackendClient) {\r\n        super();\r\n    }\r\n\r\n    purgeHistory() {\r\n\r\n        this._inProgress = true;\r\n\r\n        this._backendClient.call('POST', '/purge-history', {\r\n            entityType: this.entityType,\r\n            timeFrom: this.timeFrom,\r\n            timeTill: this.timeTill,\r\n            statuses: Array.from(this._statuses.values())\r\n        }).then(response => {\r\n\r\n            this._instancesDeleted = response.instancesDeleted;\r\n\r\n        }, err => {\r\n            this.errorMessage = `Purge history failed: ${err.message}.${(!!err.response ? err.response.data : '')} `;\r\n        }).finally(() => {\r\n            this._inProgress = false;\r\n        });\r\n    }\r\n\r\n    @observable\r\n    timeFrom: Date = new Date();\r\n    @observable\r\n    timeTill: Date = new Date();\r\n\r\n    @observable\r\n    entityType: EntityType = \"Orchestration\";\r\n\r\n    getStatusIncluded(status: RuntimeStatus) {\r\n        return this._statuses.has(status);\r\n    }\r\n\r\n    setStatusIncluded(status: RuntimeStatus, included: boolean) {\r\n        if (included) {\r\n            this._statuses.add(status);\r\n        } else {\r\n            this._statuses.delete(status);\r\n        }\r\n    }\r\n\r\n    @observable\r\n    private _statuses: Set<RuntimeStatus> = new Set<RuntimeStatus>();\r\n\r\n    @observable\r\n    private _dialogOpen: boolean = false;\r\n    \r\n    @observable\r\n    private _inProgress: boolean = false;\r\n\r\n    @observable\r\n    private _instancesDeleted: number | null = null;\r\n}","import { ITypedLocalStorage } from './ITypedLocalStorage';\r\n\r\n// Stores field values in a localStorage\r\nexport class TypedLocalStorage<T> implements ITypedLocalStorage<T>\r\n{\r\n    constructor(private _prefix: string) { }\r\n\r\n    setItem(fieldName: Extract<keyof T, string>, value: string) {\r\n        localStorage.setItem(`${this._prefix}::${fieldName}`, value);\r\n    }\r\n\r\n    setItems(items: { fieldName: Extract<keyof T, string>, value: string | null }[]) {\r\n        for (const item of items) {\r\n            if (item.value === null) {\r\n                localStorage.removeItem(`${this._prefix}::${item.fieldName}`);\r\n            } else {\r\n                localStorage.setItem(`${this._prefix}::${item.fieldName}`, item.value);\r\n            }\r\n        }\r\n    }\r\n\r\n    getItem(fieldName: Extract<keyof T, string>): string | null {\r\n        return localStorage.getItem(`${this._prefix}::${fieldName}`);\r\n    }\r\n\r\n    removeItem(fieldName: Extract<keyof T, string>) {\r\n        localStorage.removeItem(`${this._prefix}::${fieldName}`);\r\n    }\r\n}\r\n","import { Method } from 'axios';\r\nimport { IBackendClient } from './IBackendClient';\r\n\r\n// IBackendClient implementation for VsCode extension, forwards HTTP requests to VsCode\r\nexport class VsCodeBackendClient implements IBackendClient {\r\n\r\n    get isVsCode(): boolean { return true; }\r\n\r\n    constructor(private _vsCodeApi: any) {\r\n\r\n        console.log('VsCodeBackendClient ctor');\r\n\r\n        // Handling responses from VsCode\r\n        window.addEventListener('message', event => {\r\n\r\n\r\n            const message = event.data;\r\n\r\n            console.log('Message: ' + JSON.stringify(message));\r\n\r\n            // handling menu commands\r\n            const requestHandler = this._handlers[message.id];\r\n            if (!!requestHandler) {\r\n\r\n                console.log('Executing handler for messageId ' + message.id + ' - ' + JSON.stringify(requestHandler));\r\n\r\n                try {\r\n                    requestHandler(message.data);\r\n\r\n                    console.log('handler succeeded');\r\n                    \r\n                } catch(err) {\r\n                    console.log('Error: ' + err);\r\n                }\r\n\r\n\r\n                return;\r\n            }\r\n\r\n            // handling HTTP responses\r\n            const requestPromise = this._requests[message.id];\r\n            if (!requestPromise) {\r\n                return;\r\n            }\r\n\r\n            if (!!message.data) {\r\n                requestPromise.resolve(message.data);\r\n            } else {\r\n                requestPromise.reject(message.err);\r\n            }\r\n\r\n            delete this._requests[message.id];\r\n        });\r\n    }\r\n\r\n    call(method: Method | 'OpenInNewWindow', url: string, data?: any): Promise<any> {\r\n\r\n        const requestId = Math.random().toString();\r\n\r\n        // Sending request to VsCode\r\n        this._vsCodeApi.postMessage({ id: requestId, method, url, data });\r\n\r\n        return new Promise<any>((resolve, reject) => {\r\n            this._requests[requestId] = { resolve, reject };\r\n        });\r\n    }\r\n\r\n    setPurgeHistoryHandler(handler: (data: any) => void) {\r\n        this._handlers['purgeHistory'] = handler;\r\n\r\n        // Notifying VsCode that we're ready to process messages\r\n        // Cannot do this in ctor, because VsCodeBackendClient and PurgeHistoryDialogState depend on each other\r\n        this._vsCodeApi.postMessage({ method: 'IAmReady' });\r\n    }\r\n\r\n    private _handlers: {\r\n        [id: string]: (data: any) => void\r\n    } = {};\r\n\r\n    private _requests: {\r\n        [id: string]: {\r\n            resolve: (value?: any) => void,\r\n            reject: (reason?: any) => void\r\n        }\r\n    } = {};\r\n}","import { ITypedLocalStorage } from './ITypedLocalStorage';\r\n\r\n// Stores field values in VsCode\r\nexport class VsCodeTypedLocalStorage<T> implements ITypedLocalStorage<T>\r\n{\r\n    constructor(private _prefix: string, private _vsCodeApi: any) { \r\n\r\n        const oldState = this._vsCodeApi.getState();\r\n        VsCodeTypedLocalStorage.State = !oldState ? {} : oldState;\r\n    }\r\n\r\n    setItem(fieldName: Extract<keyof T, string>, value: string) {\r\n\r\n        VsCodeTypedLocalStorage.State[`${this._prefix}::${fieldName}`] = value;\r\n        this._vsCodeApi.setState(VsCodeTypedLocalStorage.State);\r\n    }\r\n\r\n    setItems(items: { fieldName: Extract<keyof T, string>, value: string | null }[]) {\r\n\r\n        for (const item of items) {\r\n\r\n            if (item.value === null) {\r\n                delete VsCodeTypedLocalStorage.State[`${this._prefix}::${item.fieldName}`];\r\n            } else {\r\n                VsCodeTypedLocalStorage.State[`${this._prefix}::${item.fieldName}`] = item.value;\r\n            }\r\n        }\r\n        this._vsCodeApi.setState(VsCodeTypedLocalStorage.State);\r\n    }\r\n\r\n    getItem(fieldName: Extract<keyof T, string>): string | null {\r\n        return VsCodeTypedLocalStorage.State[`${this._prefix}::${fieldName}`];\r\n    }\r\n\r\n    removeItem(fieldName: Extract<keyof T, string>) {\r\n\r\n        delete VsCodeTypedLocalStorage.State[`${this._prefix}::${fieldName}`];\r\n        this._vsCodeApi.setState(VsCodeTypedLocalStorage.State);\r\n    }\r\n\r\n    private static State = {};\r\n}\r\n","import { BackendClient } from '../services/BackendClient';\r\nimport { LoginState } from './LoginState';\r\nimport { MainMenuState } from './MainMenuState';\r\nimport { OrchestrationsState } from './OrchestrationsState';\r\nimport { OrchestrationDetailsState } from './OrchestrationDetailsState';\r\nimport { PurgeHistoryDialogState } from './PurgeHistoryDialogState';\r\nimport { TypedLocalStorage } from './TypedLocalStorage';\r\nimport { VsCodeBackendClient } from '../services/VsCodeBackendClient';\r\nimport { VsCodeTypedLocalStorage } from './VsCodeTypedLocalStorage';\r\n\r\n// This method is provided by VsCode, when running inside a WebView\r\ndeclare const acquireVsCodeApi: () => any;\r\n\r\n// A global variable declared in index.html and replaced by VsCode extension\r\ndeclare const OrchestrationIdFromVsCode: string;\r\n\r\nexport const UriSuffix = process.env.REACT_APP_URI_SUFFIX as string;\r\n\r\n// Main Application State\r\nexport class MainState  {\r\n    \r\n    loginState?: LoginState;    \r\n    mainMenuState?: MainMenuState;\r\n    orchestrationsState?: OrchestrationsState;\r\n    orchestrationDetailsState?: OrchestrationDetailsState;\r\n    purgeHistoryDialogState: PurgeHistoryDialogState;\r\n\r\n    constructor() {\r\n\r\n        // checking whether we're inside VsCode\r\n        var vsCodeApi: any = undefined;\r\n        try {\r\n            vsCodeApi = acquireVsCodeApi();\r\n        } catch { }\r\n\r\n        if (!!vsCodeApi) {\r\n\r\n            const backendClient = new VsCodeBackendClient(vsCodeApi);\r\n\r\n            this.purgeHistoryDialogState = new PurgeHistoryDialogState(backendClient);\r\n\r\n            if (!!this.orchestrationId) {\r\n                this.orchestrationDetailsState = new OrchestrationDetailsState(this.orchestrationId,\r\n                    backendClient,\r\n                    new VsCodeTypedLocalStorage<OrchestrationDetailsState>('OrchestrationDetailsState', vsCodeApi));\r\n            } else {\r\n                this.orchestrationsState = new OrchestrationsState(backendClient,\r\n                    new VsCodeTypedLocalStorage<OrchestrationsState>('OrchestrationsState', vsCodeApi));\r\n\r\n                backendClient.setPurgeHistoryHandler(() => this.purgeHistoryDialogState.dialogOpen = true);\r\n            }\r\n            \r\n        } else {\r\n\r\n            this.loginState = new LoginState();\r\n\r\n            const backendClient = new BackendClient(this.loginState.getAuthorizationHeaderAsync);\r\n\r\n            this.purgeHistoryDialogState = new PurgeHistoryDialogState(backendClient);\r\n\r\n            if (!!this.orchestrationId) {\r\n                this.orchestrationDetailsState = new OrchestrationDetailsState(this.orchestrationId,\r\n                    backendClient, \r\n                    new TypedLocalStorage<OrchestrationDetailsState>('OrchestrationDetailsState'));\r\n            } else {\r\n                this.mainMenuState = new MainMenuState(backendClient, this.purgeHistoryDialogState);\r\n                this.orchestrationsState = new OrchestrationsState(backendClient,\r\n                    new TypedLocalStorage<OrchestrationsState>('OrchestrationsState'));\r\n            }\r\n        }\r\n    }\r\n\r\n    // Extracts orchestrationId from URL or from VsCode\r\n    private get orchestrationId(): string {\r\n\r\n        if (!!OrchestrationIdFromVsCode) {\r\n            return OrchestrationIdFromVsCode;\r\n        }\r\n\r\n        const uriSuffix = `${UriSuffix}/orchestrations/`;\r\n        if (!window.location.pathname.startsWith(uriSuffix)) {\r\n            return '';\r\n        }\r\n\r\n        return window.location.pathname.substr(uriSuffix.length);\r\n    }\r\n}","import * as React from 'react';\nimport * as ReactDOM from 'react-dom';\n\nimport registerServiceWorker from './registerServiceWorker';\n\n// styles\nimport 'bootstrap/dist/css/bootstrap.css';\nimport './index.css';\n\nimport { Main } from './components/Main';\nimport { MainState } from './states/MainState';\n\n// This is the app's global state. It consists of multiple parts, consumed by multiple nested components\nconst appState = new MainState();\n\nReactDOM.render(\n    <Main state={appState}/>,\n    document.getElementById('root') as HTMLElement\n);\n\nregisterServiceWorker();\n"],"sourceRoot":""}